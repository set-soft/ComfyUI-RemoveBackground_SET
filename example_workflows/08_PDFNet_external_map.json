{"id":"99cbfcad-6f1c-461d-a52c-266591a5505d","revision":0,"last_node_id":74,"last_link_id":153,"nodes":[{"id":23,"type":"LoadImage","pos":[1250,790],"size":[274.080078125,314],"flags":{},"order":0,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[35]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[36]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"LoadImage","widget_ue_connectable":{"image":true,"upload":true},"ue_properties":{"version":"7.0.1"}},"widgets_values":["example.png","image"],"color":"#222","bgcolor":"#000"},{"id":49,"type":"SET_CreateEmptyImage","pos":[3530,270],"size":[270,130],"flags":{"collapsed":false},"order":10,"mode":0,"inputs":[{"localized_name":"reference","name":"reference","shape":7,"type":"IMAGE","link":97},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null},{"localized_name":"color","name":"color","type":"STRING","widget":{"name":"color"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[98]}],"properties":{"cnr_id":"image-misc","ver":"87ee4aebb77a731442e41b595bc8b12a6fd263c3","Node name for S&R":"SET_CreateEmptyImage","widget_ue_connectable":{"width":true,"height":true,"batch_size":true,"color":true},"ue_properties":{"version":"7.0.1","widget_ue_connectable":{"width":true,"height":true,"batch_size":true,"color":true}}},"widgets_values":[1024,1024,1,"black"],"color":"#323","bgcolor":"#535"},{"id":13,"type":"PreviewImage","pos":[4270,630],"size":[378.5118408203125,246.00003051757812],"flags":{},"order":19,"mode":0,"inputs":[{"label":"images","localized_name":"images","name":"images","type":"IMAGE","link":102}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"PreviewImage","widget_ue_connectable":{},"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#222","bgcolor":"#000"},{"id":25,"type":"AutoDownloadPDFNetModel_SET","pos":[1940,520],"size":[284.3267517089844,146],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"dtype","name":"dtype","shape":7,"type":"COMBO","widget":{"name":"dtype"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"SET_REMBG","links":[77]},{"localized_name":"train_w","name":"train_w","type":"INT","links":[145]},{"localized_name":"train_h","name":"train_h","type":"INT","links":[146]}],"properties":{"aux_id":"set-soft/ComfyUI_BiRefNet_SET","ver":"c18818ecc52db11c4f0f4bbf3767b30ad42fac8c","Node name for S&R":"AutoDownloadPDFNetModel_SET","widget_ue_connectable":{}},"widgets_values":["Base (392 MiB)","AUTO","AUTO"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":37,"type":"DepthAnything_V2_SET","pos":[2660,800],"size":[190,50],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"da_model","name":"da_model","type":"DAMODEL","link":70},{"localized_name":"images","name":"images","type":"IMAGE","link":148}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[79,138]}],"properties":{"aux_id":"set-soft/ComfyUI_BiRefNet_SET","ver":"c18818ecc52db11c4f0f4bbf3767b30ad42fac8c","Node name for S&R":"DepthAnything_V2_SET","widget_ue_connectable":{}},"widgets_values":[],"color":"#2a363b","bgcolor":"#3f5159"},{"id":24,"type":"SET_ImageDownload","pos":[1570,790],"size":[270,338],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"image_bypass","name":"image_bypass","shape":7,"type":"IMAGE","link":35},{"localized_name":"mask_bypass","name":"mask_bypass","shape":7,"type":"MASK","link":36},{"localized_name":"base_url","name":"base_url","type":"STRING","widget":{"name":"base_url"},"link":null},{"localized_name":"filename","name":"filename","type":"STRING","widget":{"name":"filename"},"link":null},{"localized_name":"local_name","name":"local_name","shape":7,"type":"STRING","widget":{"name":"local_name"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[97,103,143,144]},{"localized_name":"alpha_mask","name":"alpha_mask","type":"MASK","links":[]}],"properties":{"cnr_id":"image-misc","ver":"3ab5664ee7057737c3215db19b078afbcead7a08","Node name for S&R":"SET_ImageDownload","widget_ue_connectable":{"base_url":true,"filename":true,"local_name":true},"aux_id":"set-soft/ComfyUI-ImageMisc","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"base_url":true,"filename":true}}},"widgets_values":["https://huggingface.co/spaces/Tennineee/PDFNet/resolve/main/assets/examples/","5%23Artifact%231%23Basket%233342299538_59c014a904_o.jpg","pdfnet_example_1.jpg"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":36,"type":"DownloadAndLoadDepthAnythingV2Model_SET","pos":[2310,1020],"size":[288.2505798339844,58],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null}],"outputs":[{"localized_name":"da_v2_model","name":"da_v2_model","type":"DAMODEL","links":[70]}],"properties":{"aux_id":"set-soft/ComfyUI_BiRefNet_SET","ver":"c18818ecc52db11c4f0f4bbf3767b30ad42fac8c","Node name for S&R":"DownloadAndLoadDepthAnythingV2Model_SET","widget_ue_connectable":{}},"widgets_values":["Base F32 (372 MiB)"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":46,"type":"SET_FMLFE","pos":[3530,480],"size":[285.0718688964844,218],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":103},{"localized_name":"masks","name":"masks","type":"MASK","link":142},{"localized_name":"implementation","name":"implementation","type":"COMBO","widget":{"name":"implementation"},"link":null},{"localized_name":"regularization","name":"regularization","shape":7,"type":"FLOAT","widget":{"name":"regularization"},"link":null},{"localized_name":"n_small_iterations","name":"n_small_iterations","shape":7,"type":"INT","widget":{"name":"n_small_iterations"},"link":null},{"localized_name":"n_big_iterations","name":"n_big_iterations","shape":7,"type":"INT","widget":{"name":"n_big_iterations"},"link":null},{"localized_name":"small_size","name":"small_size","shape":7,"type":"INT","widget":{"name":"small_size"},"link":null},{"localized_name":"gradient_weight","name":"gradient_weight","shape":7,"type":"FLOAT","widget":{"name":"gradient_weight"},"link":null}],"outputs":[{"localized_name":"foreground","name":"foreground","type":"IMAGE","links":[99]},{"localized_name":"background","name":"background","type":"IMAGE","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":[137]}],"properties":{"cnr_id":"image-misc","ver":"8134be80328b31e2ec61a9427db96b1c279be617","Node name for S&R":"SET_FMLFE","widget_ue_connectable":{}},"widgets_values":["auto",0.00001,10,2,32,1],"color":"#323","bgcolor":"#535"},{"id":19,"type":"PreviewImage","pos":[4260,940],"size":[378.5118408203125,246.00001525878906],"flags":{},"order":15,"mode":0,"inputs":[{"label":"images","localized_name":"images","name":"images","type":"IMAGE","link":140}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"PreviewImage","widget_ue_connectable":{},"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#222","bgcolor":"#000"},{"id":10,"type":"MaskPreview","pos":[4270,1240],"size":[368.3013000488281,258],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":153}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"MaskPreview","widget_ue_connectable":{},"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#222","bgcolor":"#000"},{"id":64,"type":"SET_ImageResize","pos":[2320,640],"size":[270,336],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":144},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"get_image_size","name":"get_image_size","shape":7,"type":"IMAGE","link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":145},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":146},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"COMBO","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"pad_color","name":"pad_color","type":"STRING","widget":{"name":"pad_color"},"link":null},{"localized_name":"crop_position","name":"crop_position","type":"COMBO","widget":{"name":"crop_position"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[147,148]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"image-misc","ver":"d99c165f3d8b0dbbfc0ae1003bc40a95ed400ae8","Node name for S&R":"SET_ImageResize","widget_ue_connectable":{}},"widgets_values":[512,512,"bicubic","stretch","#000000","center",2,"cpu"],"color":"#323","bgcolor":"#535"},{"id":40,"type":"GetMaskLowByBiRefNet_SET","pos":[2890,620],"size":[294.4371032714844,98],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"SET_REMBG","link":77},{"localized_name":"images","name":"images","type":"IMAGE","link":147},{"localized_name":"depths","name":"depths","shape":7,"type":"IMAGE","link":79},{"localized_name":"batched","name":"batched","type":"BOOLEAN","widget":{"name":"batched"},"link":null}],"outputs":[{"localized_name":"masks","name":"masks","type":"MASK","links":[139]},{"localized_name":"depths","name":"depths","type":"IMAGE","links":null}],"properties":{"aux_id":"set-soft/ComfyUI_BiRefNet_SET","ver":"c18818ecc52db11c4f0f4bbf3767b30ad42fac8c","Node name for S&R":"GetMaskLowByBiRefNet_SET","widget_ue_connectable":{}},"widgets_values":[true],"color":"#2a363b","bgcolor":"#3f5159"},{"id":63,"type":"SET_ImageResize","pos":[3230,930],"size":[270,336.00006103515625],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":138},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":139},{"localized_name":"get_image_size","name":"get_image_size","shape":7,"type":"IMAGE","link":143},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"COMBO","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"pad_color","name":"pad_color","type":"STRING","widget":{"name":"pad_color"},"link":null},{"localized_name":"crop_position","name":"crop_position","type":"COMBO","widget":{"name":"crop_position"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[140]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":[142,153]}],"properties":{"cnr_id":"image-misc","ver":"d99c165f3d8b0dbbfc0ae1003bc40a95ed400ae8","Node name for S&R":"SET_ImageResize","widget_ue_connectable":{}},"widgets_values":[0,0,"bicubic","stretch","#000000","center",2,"cpu"],"color":"#323","bgcolor":"#535"},{"id":68,"type":"MarkdownNote","pos":[2330,440],"size":[340,88],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1"},"widget_ue_connectable":{}},"widgets_values":["# Here we use the training size"],"color":"#432","bgcolor":"#653"},{"id":70,"type":"MarkdownNote","pos":[2660,900],"size":[230,90],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1"},"widget_ue_connectable":{}},"widgets_values":["# Compute depth map"],"color":"#432","bgcolor":"#653"},{"id":71,"type":"MarkdownNote","pos":[2890,470],"size":[290,90],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1"},"widget_ue_connectable":{}},"widgets_values":["# Compute the salient mask"],"color":"#432","bgcolor":"#653"},{"id":72,"type":"MarkdownNote","pos":[3230,730],"size":[260,130],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1"},"widget_ue_connectable":{}},"widgets_values":["# Scale both, the depth map (just to display it) and the mask, to the original size"],"color":"#432","bgcolor":"#653"},{"id":73,"type":"MarkdownNote","pos":[3560,740],"size":[280,88],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1"},"widget_ue_connectable":{}},"widgets_values":["# Estimate the foreground"],"color":"#432","bgcolor":"#653"},{"id":74,"type":"MarkdownNote","pos":[3960,480],"size":[270,90],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1"},"widget_ue_connectable":{}},"widgets_values":["# Replace the background using a solid color"],"color":"#432","bgcolor":"#653"},{"id":48,"type":"ImageCompositeMasked","pos":[3960,630],"size":[270,146],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":98},{"localized_name":"source","name":"source","type":"IMAGE","link":99},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":137},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[102]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageCompositeMasked","widget_ue_connectable":{"x":true,"y":true,"resize_source":true},"ue_properties":{"version":"7.0.1","widget_ue_connectable":{"x":true,"y":true,"resize_source":true}}},"widgets_values":[0,62,false],"color":"#232","bgcolor":"#353"}],"links":[[35,23,0,24,0,"IMAGE"],[36,23,1,24,1,"MASK"],[70,36,0,37,0,"DAMODEL"],[77,25,0,40,0,"SET_REMBG"],[79,37,0,40,2,"IMAGE"],[97,24,0,49,0,"IMAGE"],[98,49,0,48,0,"IMAGE"],[99,46,0,48,1,"IMAGE"],[102,48,0,13,0,"IMAGE"],[103,24,0,46,0,"IMAGE"],[137,46,2,48,2,"MASK"],[138,37,0,63,0,"IMAGE"],[139,40,0,63,1,"MASK"],[140,63,0,19,0,"IMAGE"],[142,63,3,46,1,"MASK"],[143,24,0,63,2,"IMAGE"],[144,24,0,64,0,"IMAGE"],[145,25,1,64,3,"INT"],[146,25,2,64,4,"INT"],[147,64,0,40,1,"IMAGE"],[148,64,0,37,1,"IMAGE"],[153,63,3,10,0,"MASK"]],"groups":[],"config":{},"extra":{"ue_links":[],"links_added_by_ue":[],"ds":{"scale":1.2327237824625297,"offset":[-3390.178337083702,-73.52167695208561]},"reroutes":[{"id":1,"pos":[1910,450],"linkIds":[97,103]},{"id":2,"parentId":1,"pos":[3300,280],"linkIds":[97,103]},{"id":3,"pos":[2330,1140],"linkIds":[143]}],"linkExtensions":[{"id":97,"parentId":2},{"id":103,"parentId":2},{"id":143,"parentId":3}]},"version":0.4}