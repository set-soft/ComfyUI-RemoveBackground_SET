{"id":"ab859718-fd36-4e96-8b3b-1e5266d310dd","revision":0,"last_node_id":128,"last_link_id":212,"nodes":[{"id":49,"type":"MarkdownNote","pos":[616.4337768554688,0.19090169668197632],"size":[274.0300598144531,111.83796691894531],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["## Model is applied here to get a mask"],"color":"#432","bgcolor":"#653"},{"id":53,"type":"SET_AFFCE","pos":[1530,370],"size":[285.0718688964844,126],"flags":{},"order":25,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":81},{"localized_name":"masks","name":"masks","type":"MASK","link":198},{"localized_name":"blur_size","name":"blur_size","type":"INT","widget":{"name":"blur_size"},"link":null},{"localized_name":"blur_size_two","name":"blur_size_two","type":"INT","widget":{"name":"blur_size_two"},"link":null},{"localized_name":"batched","name":"batched","type":"BOOLEAN","widget":{"name":"batched"},"link":null}],"outputs":[{"localized_name":"foreground","name":"foreground","type":"IMAGE","links":[]},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"image-misc","ver":"87ee4aebb77a731442e41b595bc8b12a6fd263c3","Node name for S&R":"SET_AFFCE","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"blur_size":true,"blur_size_two":true,"batched":true}},"widget_ue_connectable":{"blur_size":true,"blur_size_two":true,"batched":true}},"widgets_values":[90,6,true],"color":"#233","bgcolor":"#355"},{"id":78,"type":"Reroute","pos":[2570,-640],"size":[75,26],"flags":{},"order":28,"mode":0,"inputs":[{"name":"","type":"*","link":201}],"outputs":[{"name":"","type":"MASK","links":[120]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":64,"type":"PreviewImage","pos":[3380,-1560],"size":[939.781982421875,627.7652587890625],"flags":{},"order":58,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":96}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":67,"type":"JoinImageWithAlpha","pos":[3160,-40],"size":[273.02655029296875,75.11937713623047],"flags":{},"order":54,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":128},{"localized_name":"alpha","name":"alpha","type":"MASK","link":101}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[125]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"JoinImageWithAlpha","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":69,"type":"InvertMask","pos":[2990,110],"size":[140,26],"flags":{},"order":46,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":126}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[101]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"InvertMask","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":73,"type":"ThresholdMask","pos":[2680,110],"size":[270,58],"flags":{},"order":39,"mode":4,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":130},{"localized_name":"value","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[126]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ThresholdMask","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"value":true}},"widget_ue_connectable":{"value":true}},"widgets_values":[0.5],"color":"#232","bgcolor":"#353"},{"id":83,"type":"Reroute","pos":[2560,110],"size":[75,26],"flags":{},"order":29,"mode":0,"inputs":[{"name":"","type":"*","link":202}],"outputs":[{"name":"","type":"MASK","links":[130]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":74,"type":"Reroute","pos":[2560,-1560],"size":[75,26],"flags":{},"order":38,"mode":0,"inputs":[{"name":"","type":"*","link":157}],"outputs":[{"name":"","type":"IMAGE","links":[113,114]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":82,"type":"Reroute","pos":[2560,-40],"size":[75,26],"flags":{},"order":34,"mode":0,"inputs":[{"name":"","type":"*","link":127}],"outputs":[{"name":"","type":"IMAGE","links":[128]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":80,"type":"PreviewImage","pos":[3380,-800],"size":[939.781982421875,627.7652587890625],"flags":{},"order":57,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":122}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":76,"type":"ImageCompositeMasked","pos":[3040,-800],"size":[270,146],"flags":{},"order":52,"mode":0,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":118},{"localized_name":"source","name":"source","type":"IMAGE","link":119},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":120},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[122]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageCompositeMasked","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"x":true,"y":true,"resize_source":true}},"widget_ue_connectable":{"x":true,"y":true,"resize_source":true}},"widgets_values":[0,0,false],"color":"#232","bgcolor":"#353"},{"id":85,"type":"ResizeAndPadImage","pos":[3500,730],"size":[270,130],"flags":{},"order":50,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":131},{"localized_name":"target_width","name":"target_width","type":"INT","widget":{"name":"target_width"},"link":133},{"localized_name":"target_height","name":"target_height","type":"INT","widget":{"name":"target_height"},"link":134},{"localized_name":"padding_color","name":"padding_color","type":"COMBO","widget":{"name":"padding_color"},"link":null},{"localized_name":"interpolation","name":"interpolation","type":"COMBO","widget":{"name":"interpolation"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[137]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ResizeAndPadImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"target_width":true,"target_height":true,"padding_color":true,"interpolation":true}},"widget_ue_connectable":{"target_width":true,"target_height":true,"padding_color":true,"interpolation":true}},"widgets_values":[512,512,"black","lanczos"],"color":"#232","bgcolor":"#353"},{"id":81,"type":"PreviewImage","pos":[3470,-40],"size":[939.781982421875,627.7652587890625],"flags":{},"order":59,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":125}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":90,"type":"PreviewImage","pos":[4140,730],"size":[941.588623046875,624.7963256835938],"flags":{},"order":61,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":140}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":89,"type":"ImageCompositeMasked","pos":[3840,720],"size":[270,146],"flags":{},"order":56,"mode":0,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":137},{"localized_name":"source","name":"source","type":"IMAGE","link":138},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":139},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[140,141]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageCompositeMasked","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"x":true,"y":true,"resize_source":true}},"widget_ue_connectable":{"x":true,"y":true,"resize_source":true}},"widgets_values":[0,0,false],"color":"#232","bgcolor":"#353"},{"id":88,"type":"GetImageSize","pos":[3320,780],"size":[140,124],"flags":{},"order":42,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":142}],"outputs":[{"localized_name":"width","name":"width","type":"INT","links":[133]},{"localized_name":"height","name":"height","type":"INT","links":[134]},{"localized_name":"batch_size","name":"batch_size","type":"INT","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"GetImageSize","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["width: 1600, height: 1200\n batch size: 1"],"color":"#232","bgcolor":"#353"},{"id":30,"type":"LoadImage","pos":[-799.6654663085938,468.06646728515625],"size":[274.080078125,314.0000305175781],"flags":{},"order":1,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[46]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[47]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"LoadImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"image":true,"upload":true}},"widget_ue_connectable":{"image":true,"upload":true}},"widgets_values":["example.png","image"],"color":"#222","bgcolor":"#000"},{"id":96,"type":"PreviewImage","pos":[3310,1480],"size":[941.588623046875,624.7963256835938],"flags":{},"order":51,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":146}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":87,"type":"Reroute","pos":[2580,1120],"size":[75,26],"flags":{},"order":30,"mode":0,"inputs":[{"name":"","type":"*","link":203}],"outputs":[{"name":"","type":"MASK","links":[139]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":86,"type":"Reroute","pos":[2570,680],"size":[75,26],"flags":{},"order":35,"mode":0,"inputs":[{"name":"","type":"*","link":154}],"outputs":[{"name":"","type":"IMAGE","links":[138,142]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":71,"type":"SET_FMLFE","pos":[1530,100],"size":[285.0718688964844,218],"flags":{},"order":26,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":103},{"localized_name":"masks","name":"masks","type":"MASK","link":199},{"localized_name":"implementation","name":"implementation","type":"COMBO","widget":{"name":"implementation"},"link":null},{"localized_name":"regularization","name":"regularization","shape":7,"type":"FLOAT","widget":{"name":"regularization"},"link":null},{"localized_name":"n_small_iterations","name":"n_small_iterations","shape":7,"type":"INT","widget":{"name":"n_small_iterations"},"link":null},{"localized_name":"n_big_iterations","name":"n_big_iterations","shape":7,"type":"INT","widget":{"name":"n_big_iterations"},"link":null},{"localized_name":"small_size","name":"small_size","shape":7,"type":"INT","widget":{"name":"small_size"},"link":null},{"localized_name":"gradient_weight","name":"gradient_weight","shape":7,"type":"FLOAT","widget":{"name":"gradient_weight"},"link":null}],"outputs":[{"localized_name":"foreground","name":"foreground","type":"IMAGE","links":[127,154,155,156,157]},{"localized_name":"background","name":"background","type":"IMAGE","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"image-misc","ver":"87ee4aebb77a731442e41b595bc8b12a6fd263c3","Node name for S&R":"SET_FMLFE","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"implementation":true,"regularization":true,"n_small_iterations":true,"n_big_iterations":true,"small_size":true,"gradient_weight":true}},"widget_ue_connectable":{"implementation":true,"regularization":true,"n_small_iterations":true,"n_big_iterations":true,"small_size":true,"gradient_weight":true}},"widgets_values":["auto",0.00001,10,2,32,1],"color":"#233","bgcolor":"#355"},{"id":100,"type":"Reroute","pos":[2570,1480],"size":[75,26],"flags":{},"order":16,"mode":0,"inputs":[{"name":"","type":"*","link":148}],"outputs":[{"name":"","type":"IMAGE","links":[150]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":98,"type":"Reroute","pos":[2580,1580],"size":[75,26],"flags":{},"order":36,"mode":0,"inputs":[{"name":"","type":"*","link":155}],"outputs":[{"name":"","type":"IMAGE","links":[152]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":97,"type":"ImageCompositeMasked","pos":[3010,1480],"size":[270,146],"flags":{},"order":43,"mode":0,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":151},{"localized_name":"source","name":"source","type":"IMAGE","link":152},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":153},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[146]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageCompositeMasked","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"x":true,"y":true,"resize_source":true}},"widget_ue_connectable":{"x":true,"y":true,"resize_source":true}},"widgets_values":[0,0,false],"color":"#232","bgcolor":"#353"},{"id":70,"type":"ImageBlur","pos":[2680,1480],"size":[270,82],"flags":{"collapsed":false},"order":20,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":150},{"localized_name":"blur_radius","name":"blur_radius","type":"INT","widget":{"name":"blur_radius"},"link":null},{"localized_name":"sigma","name":"sigma","type":"FLOAT","widget":{"name":"sigma"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[151]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageBlur","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"blur_radius":true,"sigma":true}},"widget_ue_connectable":{"blur_radius":true,"sigma":true}},"widgets_values":[5,1],"color":"#232","bgcolor":"#353"},{"id":63,"type":"ImageCompositeMasked","pos":[3040,-1560],"size":[270,146],"flags":{},"order":53,"mode":0,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":93},{"localized_name":"source","name":"source","type":"IMAGE","link":114},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":115},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[96]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageCompositeMasked","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"x":true,"y":true,"resize_source":true}},"widget_ue_connectable":{"x":true,"y":true,"resize_source":true}},"widgets_values":[0,0,false],"color":"#232","bgcolor":"#353"},{"id":77,"type":"Reroute","pos":[2560,-800],"size":[75,26],"flags":{},"order":37,"mode":0,"inputs":[{"name":"","type":"*","link":156}],"outputs":[{"name":"","type":"IMAGE","links":[119,121]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":75,"type":"Reroute","pos":[2560,-1400],"size":[75,26],"flags":{},"order":27,"mode":0,"inputs":[{"name":"","type":"*","link":200}],"outputs":[{"name":"","type":"MASK","links":[115]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":99,"type":"Reroute","pos":[2580,1620],"size":[75,26],"flags":{},"order":31,"mode":0,"inputs":[{"name":"","type":"*","link":204}],"outputs":[{"name":"","type":"MASK","links":[153]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":61,"type":"SET_CreateEmptyImage","pos":[2710,-1560],"size":[270,130],"flags":{"collapsed":false},"order":45,"mode":0,"inputs":[{"localized_name":"reference","name":"reference","shape":7,"type":"IMAGE","link":113},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null},{"localized_name":"color","name":"color","type":"STRING","widget":{"name":"color"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[93]}],"properties":{"cnr_id":"image-misc","ver":"87ee4aebb77a731442e41b595bc8b12a6fd263c3","Node name for S&R":"SET_CreateEmptyImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"width":true,"height":true,"batch_size":true,"color":true}},"widget_ue_connectable":{"width":true,"height":true,"batch_size":true,"color":true}},"widgets_values":[1024,1024,1,"green_ck"],"color":"#233","bgcolor":"#355"},{"id":101,"type":"ImageBlend","pos":[2950,2530],"size":[270,102],"flags":{"collapsed":false},"order":23,"mode":0,"inputs":[{"localized_name":"image1","name":"image1","type":"IMAGE","link":172},{"localized_name":"image2","name":"image2","type":"IMAGE","link":167},{"localized_name":"blend_factor","name":"blend_factor","type":"FLOAT","widget":{"name":"blend_factor"},"link":null},{"localized_name":"blend_mode","name":"blend_mode","type":"COMBO","widget":{"name":"blend_mode"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[165]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageBlend","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"blend_factor":true,"blend_mode":true}},"widget_ue_connectable":{"blend_factor":true,"blend_mode":true}},"widgets_values":[0.5,"normal"],"color":"#232","bgcolor":"#353"},{"id":107,"type":"Reroute","pos":[2570,2750],"size":[75,26],"flags":{},"order":32,"mode":0,"inputs":[{"name":"","type":"*","link":205}],"outputs":[{"name":"","type":"MASK","links":[174,191]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":110,"type":"MaskToImage","pos":[4910,2340],"size":[184.62362670898438,26],"flags":{},"order":55,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":179}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[180]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"MaskToImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":103,"type":"ImageCompositeMasked","pos":[3350,2450],"size":[270,146],"flags":{},"order":40,"mode":0,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":168},{"localized_name":"source","name":"source","type":"IMAGE","link":165},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":174},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[170,189]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageCompositeMasked","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"x":true,"y":true,"resize_source":true}},"widget_ue_connectable":{"x":true,"y":true,"resize_source":true}},"widgets_values":[0,0,false],"color":"#232","bgcolor":"#353"},{"id":104,"type":"Reroute","pos":[2570,2420],"size":[75,26],"flags":{},"order":17,"mode":0,"inputs":[{"name":"","type":"*","link":171}],"outputs":[{"name":"","type":"IMAGE","links":[167,168,173]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":109,"type":"ThresholdMask","pos":[4620,2340],"size":[270,58],"flags":{},"order":49,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":188},{"localized_name":"value","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[179]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ThresholdMask","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"value":true}},"widget_ue_connectable":{"value":true}},"widgets_values":[0.5],"color":"#232","bgcolor":"#353"},{"id":112,"type":"ImageBlend","pos":[5550,2320],"size":[270,102],"flags":{},"order":65,"mode":0,"inputs":[{"localized_name":"image1","name":"image1","type":"IMAGE","link":190},{"localized_name":"image2","name":"image2","type":"IMAGE","link":194},{"localized_name":"blend_factor","name":"blend_factor","type":"FLOAT","widget":{"name":"blend_factor"},"link":null},{"localized_name":"blend_mode","name":"blend_mode","type":"COMBO","widget":{"name":"blend_mode"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[184]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageBlend","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"blend_factor":true,"blend_mode":true}},"widget_ue_connectable":{"blend_factor":true,"blend_mode":true}},"widgets_values":[0.5,"screen"],"color":"#232","bgcolor":"#353"},{"id":118,"type":"Reroute","pos":[4510,2270],"size":[75,26],"flags":{},"order":48,"mode":0,"inputs":[{"name":"","type":"*","link":189}],"outputs":[{"name":"","type":"IMAGE","links":[190]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":117,"type":"Reroute","pos":[4510,3050],"size":[75,26],"flags":{},"order":41,"mode":0,"inputs":[{"name":"","type":"*","link":191}],"outputs":[{"name":"","type":"MASK","links":[188]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"color":"#232","bgcolor":"#353"},{"id":105,"type":"PreviewImage","pos":[3640,2450],"size":[814.8410034179688,575.8713989257812],"flags":{"collapsed":false},"order":47,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":170}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":119,"type":"MarkdownNote","pos":[4490,110],"size":[305.3537902832031,88],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["# This is an RGBA image"],"color":"#432","bgcolor":"#653"},{"id":10,"type":"MarkdownNote","pos":[4460,-950],"size":[345.47198486328125,88],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["# The first two are RGB images"],"color":"#432","bgcolor":"#653"},{"id":51,"type":"MarkdownNote","pos":[1870,-130],"size":[274.0300598144531,111.83796691894531],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["# With the foreground and the mask we can do various things"],"color":"#432","bgcolor":"#653"},{"id":121,"type":"MarkdownNote","pos":[-180,1140],"size":[336.8605041503906,130.55340576171875],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["# Move the mouse here to compare the original image and the one with changed background"],"color":"#432","bgcolor":"#653"},{"id":113,"type":"PreviewImage","pos":[6060,2320],"size":[767.664794921875,595.8862915039062],"flags":{},"order":66,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":184}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":108,"type":"Canny","pos":[4630,2540],"size":[270,82],"flags":{},"order":60,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":180},{"localized_name":"low_threshold","name":"low_threshold","type":"FLOAT","widget":{"name":"low_threshold"},"link":null},{"localized_name":"high_threshold","name":"high_threshold","type":"FLOAT","widget":{"name":"high_threshold"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[192]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"Canny","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"low_threshold":true,"high_threshold":true}},"widget_ue_connectable":{"low_threshold":true,"high_threshold":true}},"widgets_values":[0.5,0.99],"color":"#232","bgcolor":"#353"},{"id":123,"type":"PreviewImage","pos":[5400,2720],"size":[594.278564453125,282.0538635253906],"flags":{},"order":64,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":193}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":122,"type":"Morphology","pos":[4980,2540],"size":[270,82],"flags":{},"order":63,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":192},{"localized_name":"operation","name":"operation","type":"COMBO","widget":{"name":"operation"},"link":null},{"localized_name":"kernel_size","name":"kernel_size","type":"INT","widget":{"name":"kernel_size"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[193,194]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"Morphology","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"operation":true,"kernel_size":true}},"widget_ue_connectable":{"operation":true,"kernel_size":true}},"widgets_values":["dilate",7],"color":"#232","bgcolor":"#353"},{"id":34,"type":"GetMaskLowByBiRefNet_SET","pos":[611.5174560546875,175.32884216308594],"size":[303.6714782714844,98],"flags":{},"order":22,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"SET_REMBG","link":55},{"localized_name":"images","name":"images","type":"IMAGE","link":210},{"localized_name":"depths","name":"depths","shape":7,"type":"MASK","link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"masks","name":"masks","type":"MASK","links":[197]},{"localized_name":"depths","name":"depths","type":"MASK","links":null},{"localized_name":"edges","name":"edges","type":"MASK","links":null}],"properties":{"aux_id":"set-soft/ComfyUI_BiRefNet_SET","ver":"450fdf2cb5ccb7f95a82bd9178033dc58a9d7dbc","Node name for S&R":"GetMaskLowByBiRefNet_SET","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{"batched":true}},"widgets_values":[true],"color":"#2a363b","bgcolor":"#3f5159"},{"id":126,"type":"MaskPreview","pos":[1010,-230],"size":[220,258],"flags":{},"order":33,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":206}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"MaskPreview","ue_properties":{"version":"7.0.1"},"widget_ue_connectable":{}},"widgets_values":[],"color":"#432","bgcolor":"#653"},{"id":72,"type":"MarkdownNote","pos":[1540,-80],"size":[278.8791809082031,120.8814468383789],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["## From the image and the mask we can estimate the foreground\n\n## FMLFE is slow but better"],"color":"#432","bgcolor":"#653"},{"id":31,"type":"MarkdownNote","pos":[-764.132080078125,0.47993022203445435],"size":[560,140],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["# This workflow shows how to do a custom pre and post processing of the image/mask\n\n# You can also use other models like BEN and InSPyReNet\n"],"color":"#432","bgcolor":"#653"},{"id":36,"type":"PreviewImage","pos":[274.702392578125,-145.4186248779297],"size":[251.77528381347656,246],"flags":{"collapsed":false},"order":18,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":50}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":[],"color":"#432","bgcolor":"#653"},{"id":1,"type":"AutoDownloadBiRefNetModel_SET","pos":[-488.0947265625,204.50823974609375],"size":[290.5611267089844,166],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"dtype","name":"dtype","shape":7,"type":"COMBO","widget":{"name":"dtype"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"SET_REMBG","links":[55]},{"localized_name":"train_w","name":"train_w","type":"INT","links":[48]},{"localized_name":"train_h","name":"train_h","type":"INT","links":[49]},{"localized_name":"norm_params","name":"norm_params","type":"NORM_PARAMS","links":[212]}],"properties":{"aux_id":"set-soft/ComfyUI_BiRefNet_SET","ver":"4a1884d296e39e36c3b6f4c873c08ac9e7ce1294","Node name for S&R":"AutoDownloadBiRefNetModel_SET","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"model_name":true,"device":true,"dtype":true}},"widget_ue_connectable":{"model_name":true,"device":true,"dtype":true}},"widgets_values":["General (424 MiB)","AUTO","AUTO"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":35,"type":"ResizeAndPadImage","pos":[-77.33975219726562,198.73716735839844],"size":[270,130],"flags":{"collapsed":false},"order":15,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":51},{"localized_name":"target_width","name":"target_width","type":"INT","widget":{"name":"target_width"},"link":48},{"localized_name":"target_height","name":"target_height","type":"INT","widget":{"name":"target_height"},"link":49},{"localized_name":"padding_color","name":"padding_color","type":"COMBO","widget":{"name":"padding_color"},"link":null},{"localized_name":"interpolation","name":"interpolation","type":"COMBO","widget":{"name":"interpolation"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[50,209]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ResizeAndPadImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"target_width":true,"target_height":true,"padding_color":true,"interpolation":true}},"widget_ue_connectable":{"target_width":true,"target_height":true,"padding_color":true,"interpolation":true}},"widgets_values":[512,512,"black","lanczos"],"color":"#232","bgcolor":"#353"},{"id":48,"type":"MarkdownNote","pos":[290,270],"size":[274.0300598144531,111.83796691894531],"flags":{},"order":9,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["## We normalize the image to the trained stats"],"color":"#432","bgcolor":"#653"},{"id":47,"type":"MarkdownNote","pos":[-80.70278930664062,370.9444885253906],"size":[344.0520324707031,206.44210815429688],"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["## Here we resize the image, but keeping the aspect ratio\n## This is done adding black areas\n## Note that scaling to the trained size isn't always mandatory.  In most cases the size must be a multiple of 32. Some models needs an exact size."],"color":"#432","bgcolor":"#653"},{"id":120,"type":"MarkdownNote","pos":[990,-410],"size":[274.0300598144531,111.83796691894531],"flags":{},"order":11,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["# This is called a *map*\n\n## We use bicubic because this is gray scale mask, not just B/N"],"color":"#432","bgcolor":"#653"},{"id":14,"type":"SET_ImageDownload","pos":[-481.0677185058594,467.77496337890625],"size":[270,362],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"image_bypass","name":"image_bypass","shape":7,"type":"IMAGE","link":46},{"localized_name":"mask_bypass","name":"mask_bypass","shape":7,"type":"MASK","link":47},{"localized_name":"base_url","name":"base_url","type":"STRING","widget":{"name":"base_url"},"link":null},{"localized_name":"filename","name":"filename","type":"STRING","widget":{"name":"filename"},"link":null},{"localized_name":"local_name","name":"local_name","shape":7,"type":"STRING","widget":{"name":"local_name"},"link":null},{"localized_name":"embed_transparency","name":"embed_transparency","shape":7,"type":"BOOLEAN","widget":{"name":"embed_transparency"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[51,81,103,148,171,196,207]},{"localized_name":"alpha_mask","name":"alpha_mask","type":"MASK","links":[]}],"properties":{"cnr_id":"image-misc","ver":"3ab5664ee7057737c3215db19b078afbcead7a08","Node name for S&R":"SET_ImageDownload","aux_id":"set-soft/ComfyUI-ImageMisc","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"base_url":true,"filename":true}},"widget_ue_connectable":{"base_url":true,"filename":true,"local_name":true}},"widgets_values":["https://www.birefnet.top/PictureBox","1.jpg","birefnet_1.jpg",false],"color":"#233","bgcolor":"#355"},{"id":128,"type":"SET_NormalizeArbitrary","pos":[290,180],"size":[220,50],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":209},{"localized_name":"parameters","name":"parameters","type":"NORM_PARAMS","link":212}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[210]}],"properties":{"cnr_id":"image-misc","ver":"c5060bafe6c27649075dd61e686aae7fb54850db","Node name for S&R":"SET_NormalizeArbitrary","widget_ue_connectable":{}},"widgets_values":[],"color":"#233","bgcolor":"#355"},{"id":52,"type":"Image Comparer (rgthree)","pos":[170,760],"size":[1150.37158203125,900.6033325195312],"flags":{},"order":62,"mode":0,"inputs":[{"dir":3,"name":"image_a","type":"IMAGE","link":141},{"dir":3,"name":"image_b","type":"IMAGE","link":207}],"outputs":[],"properties":{"cnr_id":"rgthree-comfy","ver":"1.0.2508192121","comparer_mode":"Slide","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_fpvdp_00001_.png&type=temp&subfolder=&rand=0.260495448504782"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_fpvdp_00002_.png&type=temp&subfolder=&rand=0.7572793217078164"}]],"color":"#323","bgcolor":"#535"},{"id":125,"type":"SET_ResizeMask","pos":[1000,190],"size":[270,194],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":197},{"localized_name":"get_image_size","name":"get_image_size","shape":7,"type":"IMAGE","link":196},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"keep_proportions","name":"keep_proportions","type":"BOOLEAN","widget":{"name":"keep_proportions"},"link":null},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"crop","name":"crop","type":"COMBO","widget":{"name":"crop"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","links":[198,199,200,201,202,203,204,205,206]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null}],"properties":{"cnr_id":"image-misc","ver":"c976f3d057c81bf5230c28166874165469a07e67","Node name for S&R":"SET_ResizeMask","ue_properties":{"version":"7.0.1"},"widget_ue_connectable":{"width":true,"height":true,"keep_proportions":true,"upscale_method":true,"crop":true}},"widgets_values":[512,512,false,"bicubic","center"],"color":"#233","bgcolor":"#355"},{"id":79,"type":"SET_CreateEmptyImage","pos":[2710,-800],"size":[270,130],"flags":{"collapsed":false},"order":44,"mode":0,"inputs":[{"localized_name":"reference","name":"reference","shape":7,"type":"IMAGE","link":121},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null},{"localized_name":"color","name":"color","type":"STRING","widget":{"name":"color"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[118]}],"properties":{"cnr_id":"image-misc","ver":"87ee4aebb77a731442e41b595bc8b12a6fd263c3","Node name for S&R":"SET_CreateEmptyImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"width":true,"height":true,"batch_size":true,"color":true}},"widget_ue_connectable":{"width":true,"height":true,"batch_size":true,"color":true}},"widgets_values":[1024,1024,1,"white"],"color":"#233","bgcolor":"#355"},{"id":84,"type":"SET_ImageDownload","pos":[3010,690],"size":[270,362],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"image_bypass","name":"image_bypass","shape":7,"type":"IMAGE","link":145},{"localized_name":"mask_bypass","name":"mask_bypass","shape":7,"type":"MASK","link":null},{"localized_name":"base_url","name":"base_url","type":"STRING","widget":{"name":"base_url"},"link":null},{"localized_name":"filename","name":"filename","type":"STRING","widget":{"name":"filename"},"link":null},{"localized_name":"local_name","name":"local_name","shape":7,"type":"STRING","widget":{"name":"local_name"},"link":null},{"localized_name":"embed_transparency","name":"embed_transparency","shape":7,"type":"BOOLEAN","widget":{"name":"embed_transparency"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[131]},{"localized_name":"alpha_mask","name":"alpha_mask","type":"MASK","links":[]}],"properties":{"cnr_id":"image-misc","ver":"3ab5664ee7057737c3215db19b078afbcead7a08","Node name for S&R":"SET_ImageDownload","aux_id":"set-soft/ComfyUI-ImageMisc","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"base_url":true,"filename":true}},"widget_ue_connectable":{"base_url":true,"filename":true,"local_name":true}},"widgets_values":["https://cdn.esahubble.org/archives/images/screen","heic0602a.jpg","rembg_galaxy.jpg",false],"color":"#233","bgcolor":"#355"},{"id":95,"type":"LoadImage","pos":[2700,700],"size":[274.080078125,314.00006103515625],"flags":{},"order":12,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[145]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"LoadImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"image":true,"upload":true}},"widget_ue_connectable":{"image":true,"upload":true}},"widgets_values":["birefnet_1.jpg","image"],"color":"#232","bgcolor":"#353"},{"id":106,"type":"SET_CreateEmptyImage","pos":[2700,2290],"size":[210,130],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"reference","name":"reference","shape":7,"type":"IMAGE","link":173},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null},{"localized_name":"color","name":"color","type":"STRING","widget":{"name":"color"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[172]}],"properties":{"cnr_id":"image-misc","ver":"87ee4aebb77a731442e41b595bc8b12a6fd263c3","Node name for S&R":"SET_CreateEmptyImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"width":true,"height":true,"batch_size":true,"color":true}},"widget_ue_connectable":{"width":true,"height":true,"batch_size":true,"color":true}},"widgets_values":[1024,1024,1,"green_ck"],"color":"#233","bgcolor":"#355"}],"links":[[46,30,0,14,0,"IMAGE"],[47,30,1,14,1,"MASK"],[48,1,1,35,1,"INT"],[49,1,2,35,2,"INT"],[50,35,0,36,0,"IMAGE"],[51,14,0,35,0,"IMAGE"],[55,1,0,34,0,"BIREFNET"],[81,14,0,53,0,"IMAGE"],[93,61,0,63,0,"IMAGE"],[96,63,0,64,0,"IMAGE"],[101,69,0,67,1,"MASK"],[103,14,0,71,0,"IMAGE"],[113,74,0,61,0,"IMAGE"],[114,74,0,63,1,"IMAGE"],[115,75,0,63,2,"MASK"],[118,79,0,76,0,"IMAGE"],[119,77,0,76,1,"IMAGE"],[120,78,0,76,2,"MASK"],[121,77,0,79,0,"IMAGE"],[122,76,0,80,0,"IMAGE"],[125,67,0,81,0,"IMAGE"],[126,73,0,69,0,"MASK"],[127,71,0,82,0,"*"],[128,82,0,67,0,"IMAGE"],[130,83,0,73,0,"MASK"],[131,84,0,85,0,"IMAGE"],[133,88,0,85,1,"INT"],[134,88,1,85,2,"INT"],[137,85,0,89,0,"IMAGE"],[138,86,0,89,1,"IMAGE"],[139,87,0,89,2,"MASK"],[140,89,0,90,0,"IMAGE"],[141,89,0,52,0,"IMAGE"],[142,86,0,88,0,"IMAGE"],[145,95,0,84,0,"IMAGE"],[146,97,0,96,0,"IMAGE"],[148,14,0,100,0,"*"],[150,100,0,70,0,"IMAGE"],[151,70,0,97,0,"IMAGE"],[152,98,0,97,1,"IMAGE"],[153,99,0,97,2,"MASK"],[154,71,0,86,0,"*"],[155,71,0,98,0,"*"],[156,71,0,77,0,"*"],[157,71,0,74,0,"*"],[165,101,0,103,1,"IMAGE"],[167,104,0,101,1,"IMAGE"],[168,104,0,103,0,"IMAGE"],[170,103,0,105,0,"IMAGE"],[171,14,0,104,0,"*"],[172,106,0,101,0,"IMAGE"],[173,104,0,106,0,"IMAGE"],[174,107,0,103,2,"MASK"],[179,109,0,110,0,"MASK"],[180,110,0,108,0,"IMAGE"],[184,112,0,113,0,"IMAGE"],[188,117,0,109,0,"MASK"],[189,103,0,118,0,"*"],[190,118,0,112,0,"IMAGE"],[191,107,0,117,0,"*"],[192,108,0,122,0,"IMAGE"],[193,122,0,123,0,"IMAGE"],[194,122,0,112,1,"IMAGE"],[196,14,0,125,1,"IMAGE"],[197,34,0,125,0,"MASK"],[198,125,0,53,1,"MASK"],[199,125,0,71,1,"MASK"],[200,125,0,75,0,"*"],[201,125,0,78,0,"*"],[202,125,0,83,0,"*"],[203,125,0,87,0,"*"],[204,125,0,99,0,"*"],[205,125,0,107,0,"*"],[206,125,0,126,0,"MASK"],[207,14,0,52,1,"IMAGE"],[209,35,0,128,0,"IMAGE"],[210,128,0,34,1,"IMAGE"],[212,1,3,128,1,"NORM_PARAMS"]],"groups":[{"id":1,"title":"Resize mask to image size","bounding":[975,100,320,300],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Foreground","bounding":[1525,-150,306.769775390625,658.6676025390625],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Green background","bounding":[2550,-1650,1790.999755859375,729.001220703125],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"White background","bounding":[2550,-875,1787.630615234375,723.7957153320312],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"RGBA (RGB + Transparency)","bounding":[2550,-125,1867.32470703125,711.4829711914062],"color":"#3f789e","font_size":24,"flags":{}},{"id":6,"title":"Overlay","bounding":[2550,625,2539.93408203125,748.8859252929688],"color":"#3f789e","font_size":24,"flags":{}},{"id":7,"title":"Blurred background","bounding":[2550,1400,1709.1240234375,724.2953491210938],"color":"#3f789e","font_size":24,"flags":{}},{"id":8,"title":"Show object","bounding":[2550,2225,1906.569091796875,877.1666259765625],"color":"#3f789e","font_size":24,"flags":{}},{"id":9,"title":"Show object and strong contour","bounding":[4500,2225,2429.925537109375,869.545654296875],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ue_links":[],"ds":{"scale":0.3979467905642837,"offset":[-1250.7738927083362,1759.8710167161116]},"links_added_by_ue":[],"reroutes":[{"id":2,"pos":[-108.62671661376953,139.73500061035156],"linkIds":[55]},{"id":3,"parentId":2,"pos":[535.2720947265625,140.9296875],"linkIds":[55]},{"id":4,"parentId":9,"pos":[740,570],"linkIds":[81,103,148,171,196]},{"id":5,"parentId":4,"pos":[1380,570],"linkIds":[81,103,148,171]},{"id":7,"parentId":31,"pos":[1750,680],"linkIds":[141]},{"id":8,"parentId":7,"pos":[100,690],"linkIds":[141]},{"id":9,"pos":[-106.55693054199219,625.9456787109375],"linkIds":[81,103,148,171,196,207]},{"id":10,"parentId":5,"pos":[1410,410],"linkIds":[81,103]},{"id":12,"parentId":13,"pos":[2990,-1420],"linkIds":[114]},{"id":13,"pos":[2660,-1420],"linkIds":[114]},{"id":14,"pos":[3010,-1390],"linkIds":[115]},{"id":15,"parentId":16,"pos":[3000,-660],"linkIds":[119]},{"id":16,"pos":[2670,-660],"linkIds":[119]},{"id":17,"pos":[3010,-630],"linkIds":[120]},{"id":18,"pos":[2670,1050],"linkIds":[138,142]},{"id":19,"parentId":21,"pos":[3740,1010],"linkIds":[138]},{"id":20,"pos":[3780,1040],"linkIds":[139]},{"id":21,"parentId":18,"pos":[3280,1050],"linkIds":[138,142]},{"id":22,"pos":[2960,1630],"linkIds":[153]},{"id":23,"pos":[2940,1600],"linkIds":[152]},{"id":24,"pos":[2290,-40],"linkIds":[127,154,155,156,157]},{"id":25,"parentId":38,"pos":[1450,-220],"linkIds":[200,201,202,203,204,205]},{"id":26,"parentId":25,"pos":[2220,-390],"linkIds":[200,201,202,203,204,205]},{"id":27,"parentId":5,"pos":[2070,570],"linkIds":[148,171]},{"id":28,"pos":[4130,680],"linkIds":[141]},{"id":29,"parentId":28,"pos":[5190,680],"linkIds":[141]},{"id":30,"parentId":29,"pos":[5200,2160],"linkIds":[141]},{"id":31,"parentId":30,"pos":[1810,2170],"linkIds":[141]},{"id":32,"pos":[3310,2760],"linkIds":[174,191]},{"id":33,"parentId":26,"pos":[2240,760],"linkIds":[203,204,205]},{"id":34,"parentId":33,"pos":[2280,1580],"linkIds":[204,205]},{"id":35,"pos":[5430,2290],"linkIds":[190]},{"id":36,"parentId":32,"pos":[3380,3060],"linkIds":[191]},{"id":37,"pos":[3630,2280],"linkIds":[189]},{"id":38,"pos":[1370,200],"linkIds":[198,199,200,201,202,203,204,205]},{"id":39,"pos":[-100,330],"linkIds":[212]},{"id":40,"parentId":39,"pos":[250,330],"linkIds":[212]}],"linkExtensions":[{"id":55,"parentId":3},{"id":81,"parentId":10},{"id":103,"parentId":10},{"id":114,"parentId":12},{"id":115,"parentId":14},{"id":119,"parentId":15},{"id":120,"parentId":17},{"id":127,"parentId":24},{"id":138,"parentId":19},{"id":139,"parentId":20},{"id":141,"parentId":8},{"id":142,"parentId":21},{"id":148,"parentId":27},{"id":152,"parentId":23},{"id":153,"parentId":22},{"id":154,"parentId":24},{"id":155,"parentId":24},{"id":156,"parentId":24},{"id":157,"parentId":24},{"id":171,"parentId":27},{"id":174,"parentId":32},{"id":189,"parentId":37},{"id":190,"parentId":35},{"id":191,"parentId":36},{"id":196,"parentId":4},{"id":198,"parentId":38},{"id":199,"parentId":38},{"id":200,"parentId":26},{"id":201,"parentId":26},{"id":202,"parentId":26},{"id":203,"parentId":33},{"id":204,"parentId":34},{"id":205,"parentId":34},{"id":207,"parentId":9},{"id":212,"parentId":40}]},"version":0.4}