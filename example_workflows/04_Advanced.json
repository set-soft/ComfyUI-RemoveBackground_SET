{"id":"ab859718-fd36-4e96-8b3b-1e5266d310dd","revision":0,"last_node_id":124,"last_link_id":195,"nodes":[{"id":1,"type":"AutoDownloadBiRefNetModel_SET","pos":[-488.0947265625,204.50823974609375],"size":[290.5611267089844,146],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"dtype","name":"dtype","shape":7,"type":"COMBO","widget":{"name":"dtype"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"SET_REMBG","links":[55]},{"localized_name":"train_w","name":"train_w","type":"INT","links":[48]},{"localized_name":"train_h","name":"train_h","type":"INT","links":[49]}],"properties":{"aux_id":"set-soft/ComfyUI_BiRefNet_SET","ver":"4a1884d296e39e36c3b6f4c873c08ac9e7ce1294","Node name for S&R":"AutoDownloadBiRefNetModel_SET","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"model_name":true,"device":true,"dtype":true}}},"widgets_values":["General","AUTO","AUTO"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":37,"type":"SET_NormalizeToImageNetDataset","pos":[288.1811828613281,195.465576171875],"size":[225.86483764648438,26],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":52}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[56]}],"properties":{"cnr_id":"image-misc","ver":"0d3c321ae3a652184eafbf455521ea0890476e6e","Node name for S&R":"SET_NormalizeToImageNetDataset","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#2a363b","bgcolor":"#3f5159"},{"id":34,"type":"GetMaskLowByBiRefNet_SET","pos":[611.5174560546875,175.32884216308594],"size":[303.6714782714844,78],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"SET_REMBG","link":55},{"localized_name":"images","name":"images","type":"IMAGE","link":56},{"localized_name":"batched","name":"batched","type":"BOOLEAN","widget":{"name":"batched"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","links":[59]}],"properties":{"aux_id":"set-soft/ComfyUI_BiRefNet_SET","ver":"450fdf2cb5ccb7f95a82bd9178033dc58a9d7dbc","Node name for S&R":"GetMaskLowByBiRefNet_SET","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[true],"color":"#2a363b","bgcolor":"#3f5159"},{"id":46,"type":"ImageScale","pos":[1244.8226318359375,179.42840576171875],"size":[270,130],"flags":{},"order":28,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":76},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":73},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":74},{"localized_name":"crop","name":"crop","type":"COMBO","widget":{"name":"crop"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[75,77]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageScale","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"upscale_method":true,"width":true,"height":true,"crop":true}}},"widgets_values":["bicubic",512,512,"center"],"color":"#232","bgcolor":"#353"},{"id":44,"type":"PreviewImage","pos":[1568.6966552734375,-176.76846313476562],"size":[217.86000061035156,258],"flags":{},"order":29,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":75}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#432","bgcolor":"#653"},{"id":41,"type":"GetImageSize","pos":[980.0958862304688,247.29345703125],"size":[241.87786865234375,161.0735626220703],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":62}],"outputs":[{"localized_name":"width","name":"width","type":"INT","links":[73]},{"localized_name":"height","name":"height","type":"INT","links":[74]},{"localized_name":"batch_size","name":"batch_size","type":"INT","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.57","Node name for S&R":"GetImageSize","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":36,"type":"PreviewImage","pos":[274.702392578125,-145.4186248779297],"size":[251.77528381347656,246],"flags":{"collapsed":false},"order":20,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":50}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#432","bgcolor":"#653"},{"id":49,"type":"MarkdownNote","pos":[616.4337768554688,0.19090169668197632],"size":[274.0300598144531,111.83796691894531],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["## Model is applied here to get a mask"],"color":"#432","bgcolor":"#653"},{"id":43,"type":"PreviewImage","pos":[1280.6497802734375,-178.927978515625],"size":[217.86000061035156,258],"flags":{},"order":27,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":68}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#432","bgcolor":"#653"},{"id":47,"type":"MarkdownNote","pos":[-80.70278930664062,370.9444885253906],"size":[344.0520324707031,206.44210815429688],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["## Here we resize the image, but keeping the aspect ratio\n## This is done adding black areas\n## Note that scaling to the trained model isn't mandatory.  But the size must be a multiple of 32."],"color":"#432","bgcolor":"#653"},{"id":53,"type":"SET_AFFCE","pos":[2025.5458984375,428.18109130859375],"size":[285.0718688964844,126],"flags":{},"order":31,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":81},{"localized_name":"masks","name":"masks","type":"MASK","link":80},{"localized_name":"blur_size","name":"blur_size","type":"INT","widget":{"name":"blur_size"},"link":null},{"localized_name":"blur_size_two","name":"blur_size_two","type":"INT","widget":{"name":"blur_size_two"},"link":null},{"localized_name":"batched","name":"batched","type":"BOOLEAN","widget":{"name":"batched"},"link":null}],"outputs":[{"localized_name":"foreground","name":"foreground","type":"IMAGE","links":[]},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"image-misc","ver":"87ee4aebb77a731442e41b595bc8b12a6fd263c3","Node name for S&R":"SET_AFFCE","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"blur_size":true,"blur_size_two":true,"batched":true}}},"widgets_values":[90,6,true],"color":"#323","bgcolor":"#535"},{"id":72,"type":"MarkdownNote","pos":[2030.6151123046875,-20.88656997680664],"size":[278.8791809082031,120.8814468383789],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["## From the image and the mask we can estimate the foreground\n\n## FMLFE is slow but better"],"color":"#432","bgcolor":"#653"},{"id":38,"type":"MaskToImage","pos":[981.9609985351562,174.9581298828125],"size":[236.7676239013672,28.979665756225586],"flags":{},"order":26,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":59}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[68,76]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.57","Node name for S&R":"MaskToImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":78,"type":"Reroute","pos":[3050.80859375,-583.6602783203125],"size":[75,26],"flags":{},"order":34,"mode":0,"inputs":[{"name":"","type":"*","link":158}],"outputs":[{"name":"","type":"MASK","links":[120]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#232","bgcolor":"#353"},{"id":64,"type":"PreviewImage","pos":[3861.448974609375,-1500.032470703125],"size":[939.781982421875,627.7652587890625],"flags":{},"order":63,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":96}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":67,"type":"JoinImageWithAlpha","pos":[3645.566650390625,14.033611297607422],"size":[273.02655029296875,75.11937713623047],"flags":{},"order":59,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":128},{"localized_name":"alpha","name":"alpha","type":"MASK","link":101}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[125]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"JoinImageWithAlpha","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":69,"type":"InvertMask","pos":[3474.388671875,170.74888610839844],"size":[140,26],"flags":{},"order":51,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":126}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[101]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"InvertMask","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":73,"type":"ThresholdMask","pos":[3169.9609375,168.6213836669922],"size":[270,58],"flags":{},"order":44,"mode":4,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":130},{"localized_name":"value","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[126]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ThresholdMask","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"value":true}}},"widgets_values":[0.5],"color":"#232","bgcolor":"#353"},{"id":83,"type":"Reroute","pos":[3049.6796875,169.49168395996094],"size":[75,26],"flags":{},"order":35,"mode":0,"inputs":[{"name":"","type":"*","link":159}],"outputs":[{"name":"","type":"MASK","links":[130]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#232","bgcolor":"#353"},{"id":74,"type":"Reroute","pos":[3046.294921875,-1498.203125],"size":[75,26],"flags":{},"order":43,"mode":0,"inputs":[{"name":"","type":"*","link":157}],"outputs":[{"name":"","type":"IMAGE","links":[113,114]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#232","bgcolor":"#353"},{"id":14,"type":"SET_ImageDownload","pos":[-481.0677185058594,467.77496337890625],"size":[270,338],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"image_bypass","name":"image_bypass","shape":7,"type":"IMAGE","link":46},{"localized_name":"mask_bypass","name":"mask_bypass","shape":7,"type":"MASK","link":47},{"localized_name":"base_url","name":"base_url","type":"STRING","widget":{"name":"base_url"},"link":null},{"localized_name":"filename","name":"filename","type":"STRING","widget":{"name":"filename"},"link":null},{"localized_name":"local_name","name":"local_name","shape":7,"type":"STRING","widget":{"name":"local_name"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[51,62,78,81,103,148,171]},{"localized_name":"alpha_mask","name":"alpha_mask","type":"MASK","links":[]}],"properties":{"cnr_id":"image-misc","ver":"3ab5664ee7057737c3215db19b078afbcead7a08","Node name for S&R":"SET_ImageDownload","aux_id":"set-soft/ComfyUI-ImageMisc","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"base_url":true,"filename":true}}},"widgets_values":["https://www.birefnet.top/PictureBox","1.jpg","birefnet_1.jpg"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":82,"type":"Reroute","pos":[3048.6884765625,14.821270942687988],"size":[75,26],"flags":{},"order":39,"mode":0,"inputs":[{"name":"","type":"*","link":127}],"outputs":[{"name":"","type":"IMAGE","links":[128]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#232","bgcolor":"#353"},{"id":80,"type":"PreviewImage","pos":[3861.03662109375,-737.241943359375],"size":[939.781982421875,627.7652587890625],"flags":{},"order":62,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":122}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":76,"type":"ImageCompositeMasked","pos":[3523.9375,-740.3062744140625],"size":[270,146],"flags":{},"order":57,"mode":0,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":118},{"localized_name":"source","name":"source","type":"IMAGE","link":119},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":120},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[122]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageCompositeMasked","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"x":true,"y":true,"resize_source":true}}},"widgets_values":[0,0,false],"color":"#232","bgcolor":"#353"},{"id":85,"type":"ResizeAndPadImage","pos":[3980.779296875,785.794677734375],"size":[270,130],"flags":{},"order":55,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":131},{"localized_name":"target_width","name":"target_width","type":"INT","widget":{"name":"target_width"},"link":133},{"localized_name":"target_height","name":"target_height","type":"INT","widget":{"name":"target_height"},"link":134},{"localized_name":"padding_color","name":"padding_color","type":"COMBO","widget":{"name":"padding_color"},"link":null},{"localized_name":"interpolation","name":"interpolation","type":"COMBO","widget":{"name":"interpolation"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[137]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ResizeAndPadImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"target_width":true,"target_height":true,"padding_color":true,"interpolation":true}}},"widgets_values":[512,512,"black","lanczos"],"color":"#232","bgcolor":"#353"},{"id":81,"type":"PreviewImage","pos":[3956.2314453125,14.151349067687988],"size":[939.781982421875,627.7652587890625],"flags":{},"order":64,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":125}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":90,"type":"PreviewImage","pos":[4621.84716796875,782.971435546875],"size":[941.588623046875,624.7963256835938],"flags":{},"order":66,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":140}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":89,"type":"ImageCompositeMasked","pos":[4325.58642578125,782.3579711914062],"size":[270,146],"flags":{},"order":61,"mode":0,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":137},{"localized_name":"source","name":"source","type":"IMAGE","link":138},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":139},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[140,141]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageCompositeMasked","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"x":true,"y":true,"resize_source":true}}},"widgets_values":[0,0,false],"color":"#232","bgcolor":"#353"},{"id":88,"type":"GetImageSize","pos":[3806.303955078125,838.16455078125],"size":[140,124],"flags":{},"order":47,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":142}],"outputs":[{"localized_name":"width","name":"width","type":"INT","links":[133]},{"localized_name":"height","name":"height","type":"INT","links":[134]},{"localized_name":"batch_size","name":"batch_size","type":"INT","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"GetImageSize","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":30,"type":"LoadImage","pos":[-799.6654663085938,468.06646728515625],"size":[274.080078125,314.0000305175781],"flags":{},"order":4,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[46]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[47]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"LoadImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"image":true,"upload":true}}},"widgets_values":["example.png","image"],"color":"#222","bgcolor":"#000"},{"id":95,"type":"LoadImage","pos":[3189.273193359375,753.408203125],"size":[274.080078125,314.00006103515625],"flags":{},"order":5,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[145]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"LoadImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"image":true,"upload":true}}},"widgets_values":["1.jpg","image"],"color":"#232","bgcolor":"#353"},{"id":96,"type":"PreviewImage","pos":[3791.972900390625,1538.6126708984375],"size":[941.588623046875,624.7963256835938],"flags":{},"order":56,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":146}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":87,"type":"Reroute","pos":[3064.8779296875,1175.26025390625],"size":[75,26],"flags":{},"order":36,"mode":0,"inputs":[{"name":"","type":"*","link":160}],"outputs":[{"name":"","type":"MASK","links":[139]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#232","bgcolor":"#353"},{"id":86,"type":"Reroute","pos":[3054.2890625,735.4760131835938],"size":[75,26],"flags":{},"order":40,"mode":0,"inputs":[{"name":"","type":"*","link":154}],"outputs":[{"name":"","type":"IMAGE","links":[138,142]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#232","bgcolor":"#353"},{"id":71,"type":"SET_FMLFE","pos":[2023.847900390625,153.68365478515625],"size":[285.0718688964844,218],"flags":{},"order":32,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":103},{"localized_name":"masks","name":"masks","type":"MASK","link":102},{"localized_name":"implementation","name":"implementation","type":"COMBO","widget":{"name":"implementation"},"link":null},{"localized_name":"regularization","name":"regularization","shape":7,"type":"FLOAT","widget":{"name":"regularization"},"link":null},{"localized_name":"n_small_iterations","name":"n_small_iterations","shape":7,"type":"INT","widget":{"name":"n_small_iterations"},"link":null},{"localized_name":"n_big_iterations","name":"n_big_iterations","shape":7,"type":"INT","widget":{"name":"n_big_iterations"},"link":null},{"localized_name":"small_size","name":"small_size","shape":7,"type":"INT","widget":{"name":"small_size"},"link":null},{"localized_name":"gradient_weight","name":"gradient_weight","shape":7,"type":"FLOAT","widget":{"name":"gradient_weight"},"link":null}],"outputs":[{"localized_name":"foreground","name":"foreground","type":"IMAGE","links":[127,154,155,156,157]},{"localized_name":"background","name":"background","type":"IMAGE","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"cnr_id":"image-misc","ver":"87ee4aebb77a731442e41b595bc8b12a6fd263c3","Node name for S&R":"SET_FMLFE","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"implementation":true,"regularization":true,"n_small_iterations":true,"n_big_iterations":true,"small_size":true,"gradient_weight":true}}},"widgets_values":["auto",0.00001,10,2,32,1],"color":"#323","bgcolor":"#535"},{"id":40,"type":"ImageToMask","pos":[1543.6162109375,177.02699279785156],"size":[270,58],"flags":{},"order":30,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":77},{"localized_name":"channel","name":"channel","type":"COMBO","widget":{"name":"channel"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[80,102,117,158,159,160,176,177]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.57","Node name for S&R":"ImageToMask","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"channel":true}}},"widgets_values":["red"],"color":"#232","bgcolor":"#353"},{"id":100,"type":"Reroute","pos":[3059.84619140625,1539.619140625],"size":[75,26],"flags":{},"order":18,"mode":0,"inputs":[{"name":"","type":"*","link":148}],"outputs":[{"name":"","type":"IMAGE","links":[150]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#232","bgcolor":"#353"},{"id":98,"type":"Reroute","pos":[3063.384033203125,1634.631591796875],"size":[75,26],"flags":{},"order":41,"mode":0,"inputs":[{"name":"","type":"*","link":155}],"outputs":[{"name":"","type":"IMAGE","links":[152]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#232","bgcolor":"#353"},{"id":97,"type":"ImageCompositeMasked","pos":[3495.712158203125,1537.9991455078125],"size":[270,146],"flags":{},"order":48,"mode":0,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":151},{"localized_name":"source","name":"source","type":"IMAGE","link":152},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":153},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[146]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageCompositeMasked","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"x":true,"y":true,"resize_source":true}}},"widgets_values":[0,0,false],"color":"#232","bgcolor":"#353"},{"id":70,"type":"ImageBlur","pos":[3166.505859375,1540.173095703125],"size":[270,82],"flags":{"collapsed":false},"order":22,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":150},{"localized_name":"blur_radius","name":"blur_radius","type":"INT","widget":{"name":"blur_radius"},"link":null},{"localized_name":"sigma","name":"sigma","type":"FLOAT","widget":{"name":"sigma"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[151]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageBlur","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"blur_radius":true,"sigma":true}}},"widgets_values":[5,1],"color":"#232","bgcolor":"#353"},{"id":84,"type":"SET_ImageDownload","pos":[3493.810546875,751.979736328125],"size":[270,338],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"image_bypass","name":"image_bypass","shape":7,"type":"IMAGE","link":145},{"localized_name":"mask_bypass","name":"mask_bypass","shape":7,"type":"MASK","link":null},{"localized_name":"base_url","name":"base_url","type":"STRING","widget":{"name":"base_url"},"link":null},{"localized_name":"filename","name":"filename","type":"STRING","widget":{"name":"filename"},"link":null},{"localized_name":"local_name","name":"local_name","shape":7,"type":"STRING","widget":{"name":"local_name"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[131]},{"localized_name":"alpha_mask","name":"alpha_mask","type":"MASK","links":[]}],"properties":{"cnr_id":"image-misc","ver":"3ab5664ee7057737c3215db19b078afbcead7a08","Node name for S&R":"SET_ImageDownload","aux_id":"set-soft/ComfyUI-ImageMisc","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"base_url":true,"filename":true}}},"widgets_values":["https://cdn.esahubble.org/archives/images/screen","heic0602a.jpg","rembg_galaxy.jpg"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":63,"type":"ImageCompositeMasked","pos":[3520.4150390625,-1500.1785888671875],"size":[270,146],"flags":{},"order":58,"mode":0,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":93},{"localized_name":"source","name":"source","type":"IMAGE","link":114},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":115},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[96]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageCompositeMasked","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"x":true,"y":true,"resize_source":true}}},"widgets_values":[0,0,false],"color":"#232","bgcolor":"#353"},{"id":77,"type":"Reroute","pos":[3049.8173828125,-738.330810546875],"size":[75,26],"flags":{},"order":42,"mode":0,"inputs":[{"name":"","type":"*","link":156}],"outputs":[{"name":"","type":"IMAGE","links":[119,121]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#232","bgcolor":"#353"},{"id":75,"type":"Reroute","pos":[3047.2861328125,-1343.5325927734375],"size":[75,26],"flags":{},"order":33,"mode":0,"inputs":[{"name":"","type":"*","link":117}],"outputs":[{"name":"","type":"MASK","links":[115]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#232","bgcolor":"#353"},{"id":99,"type":"Reroute","pos":[3061.975830078125,1673.0634765625],"size":[75,26],"flags":{},"order":37,"mode":0,"inputs":[{"name":"","type":"*","link":176}],"outputs":[{"name":"","type":"MASK","links":[153]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#232","bgcolor":"#353"},{"id":61,"type":"SET_CreateEmptyImage","pos":[3192.565673828125,-1499.8262939453125],"size":[270,130],"flags":{"collapsed":false},"order":50,"mode":0,"inputs":[{"localized_name":"reference","name":"reference","shape":7,"type":"IMAGE","link":113},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null},{"localized_name":"color","name":"color","type":"STRING","widget":{"name":"color"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[93]}],"properties":{"cnr_id":"image-misc","ver":"87ee4aebb77a731442e41b595bc8b12a6fd263c3","Node name for S&R":"SET_CreateEmptyImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"width":true,"height":true,"batch_size":true,"color":true}}},"widgets_values":[1024,1024,1,"green_ck"],"color":"#323","bgcolor":"#535"},{"id":106,"type":"SET_CreateEmptyImage","pos":[3189.6005859375,2349.20751953125],"size":[210,130],"flags":{},"order":23,"mode":0,"inputs":[{"localized_name":"reference","name":"reference","shape":7,"type":"IMAGE","link":173},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null},{"localized_name":"color","name":"color","type":"STRING","widget":{"name":"color"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[172]}],"properties":{"cnr_id":"image-misc","ver":"87ee4aebb77a731442e41b595bc8b12a6fd263c3","Node name for S&R":"SET_CreateEmptyImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"width":true,"height":true,"batch_size":true,"color":true}}},"widgets_values":[1024,1024,1,"green_ck"],"color":"#323","bgcolor":"#535"},{"id":101,"type":"ImageBlend","pos":[3436.5126953125,2592.391845703125],"size":[270,102],"flags":{"collapsed":false},"order":25,"mode":0,"inputs":[{"localized_name":"image1","name":"image1","type":"IMAGE","link":172},{"localized_name":"image2","name":"image2","type":"IMAGE","link":167},{"localized_name":"blend_factor","name":"blend_factor","type":"FLOAT","widget":{"name":"blend_factor"},"link":null},{"localized_name":"blend_mode","name":"blend_mode","type":"COMBO","widget":{"name":"blend_mode"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[165]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageBlend","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"blend_factor":true,"blend_mode":true}}},"widgets_values":[0.5,"normal"],"color":"#232","bgcolor":"#353"},{"id":79,"type":"SET_CreateEmptyImage","pos":[3196.088134765625,-739.9539794921875],"size":[270,130],"flags":{"collapsed":false},"order":49,"mode":0,"inputs":[{"localized_name":"reference","name":"reference","shape":7,"type":"IMAGE","link":121},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null},{"localized_name":"color","name":"color","type":"STRING","widget":{"name":"color"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[118]}],"properties":{"cnr_id":"image-misc","ver":"87ee4aebb77a731442e41b595bc8b12a6fd263c3","Node name for S&R":"SET_CreateEmptyImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"width":true,"height":true,"batch_size":true,"color":true}}},"widgets_values":[1024,1024,1,"white"],"color":"#323","bgcolor":"#535"},{"id":52,"type":"Image Comparer (rgthree)","pos":[871.0328979492188,724.9498901367188],"size":[1150.37158203125,900.6033325195312],"flags":{},"order":67,"mode":0,"inputs":[{"dir":3,"name":"image_a","type":"IMAGE","link":141},{"dir":3,"name":"image_b","type":"IMAGE","link":78}],"outputs":[],"properties":{"cnr_id":"rgthree-comfy","ver":"1.0.2508192121","comparer_mode":"Slide","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_bvimf_00001_.png&type=temp&subfolder=&rand=0.6644456673234617"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_bvimf_00002_.png&type=temp&subfolder=&rand=0.349660500952213"}]],"color":"#432","bgcolor":"#653"},{"id":107,"type":"Reroute","pos":[3059.986083984375,2808.6962890625],"size":[75,26],"flags":{},"order":38,"mode":0,"inputs":[{"name":"","type":"*","link":177}],"outputs":[{"name":"","type":"MASK","links":[174,191]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#232","bgcolor":"#353"},{"id":110,"type":"MaskToImage","pos":[5397.205078125,2401.608154296875],"size":[184.62362670898438,26],"flags":{},"order":60,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":179}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[180]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"MaskToImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":103,"type":"ImageCompositeMasked","pos":[3840.157470703125,2503.562744140625],"size":[270,146],"flags":{},"order":45,"mode":0,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":168},{"localized_name":"source","name":"source","type":"IMAGE","link":165},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":174},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[170,189]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageCompositeMasked","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"x":true,"y":true,"resize_source":true}}},"widgets_values":[0,0,false],"color":"#232","bgcolor":"#353"},{"id":104,"type":"Reroute","pos":[3057.728271484375,2479.0634765625],"size":[75,26],"flags":{},"order":19,"mode":0,"inputs":[{"name":"","type":"*","link":171}],"outputs":[{"name":"","type":"IMAGE","links":[167,168,173]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#232","bgcolor":"#353"},{"id":109,"type":"ThresholdMask","pos":[5107.40869140625,2400.679931640625],"size":[270,58],"flags":{},"order":54,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":188},{"localized_name":"value","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[179]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ThresholdMask","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"value":true}}},"widgets_values":[0.5],"color":"#232","bgcolor":"#353"},{"id":112,"type":"ImageBlend","pos":[6032.67138671875,2379.797119140625],"size":[270,102],"flags":{},"order":70,"mode":0,"inputs":[{"localized_name":"image1","name":"image1","type":"IMAGE","link":190},{"localized_name":"image2","name":"image2","type":"IMAGE","link":194},{"localized_name":"blend_factor","name":"blend_factor","type":"FLOAT","widget":{"name":"blend_factor"},"link":null},{"localized_name":"blend_mode","name":"blend_mode","type":"COMBO","widget":{"name":"blend_mode"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[184]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageBlend","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"blend_factor":true,"blend_mode":true}}},"widgets_values":[0.5,"screen"],"color":"#232","bgcolor":"#353"},{"id":118,"type":"Reroute","pos":[4990.9443359375,2326.24755859375],"size":[75,26],"flags":{},"order":53,"mode":0,"inputs":[{"name":"","type":"*","link":189}],"outputs":[{"name":"","type":"IMAGE","links":[190]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#232","bgcolor":"#353"},{"id":117,"type":"Reroute","pos":[4992.06005859375,3105.02099609375],"size":[75,26],"flags":{},"order":46,"mode":0,"inputs":[{"name":"","type":"*","link":191}],"outputs":[{"name":"","type":"MASK","links":[188]}],"properties":{"showOutputText":false,"horizontal":false,"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"color":"#232","bgcolor":"#353"},{"id":105,"type":"PreviewImage","pos":[4129.4560546875,2505.268310546875],"size":[814.8410034179688,575.8713989257812],"flags":{"collapsed":false},"order":52,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":170}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":31,"type":"MarkdownNote","pos":[-764.132080078125,0.47993022203445435],"size":[561.5595092773438,132.5689239501953],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["# This workflow shows how to do a custom pre and post processing of the image/mask\n\n# You can also use BEN and InSPyReNet\n"],"color":"#432","bgcolor":"#653"},{"id":35,"type":"ResizeAndPadImage","pos":[-77.33975219726562,198.73716735839844],"size":[270,130],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":51},{"localized_name":"target_width","name":"target_width","type":"INT","widget":{"name":"target_width"},"link":48},{"localized_name":"target_height","name":"target_height","type":"INT","widget":{"name":"target_height"},"link":49},{"localized_name":"padding_color","name":"padding_color","type":"COMBO","widget":{"name":"padding_color"},"link":null},{"localized_name":"interpolation","name":"interpolation","type":"COMBO","widget":{"name":"interpolation"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[50,52]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ResizeAndPadImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"target_width":true,"target_height":true,"padding_color":true,"interpolation":true}}},"widgets_values":[512,512,"black","lanczos"],"color":"#232","bgcolor":"#353"},{"id":48,"type":"MarkdownNote","pos":[271.21820068359375,276.0028991699219],"size":[274.0300598144531,111.83796691894531],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["## We normalize the image to the ImageNet stats\n## The model are trained this way"],"color":"#432","bgcolor":"#653"},{"id":50,"type":"MarkdownNote","pos":[976.9722290039062,462.58160400390625],"size":[439.8778381347656,103.7258529663086],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["## Here we upscale the mask to the image size\n\n## Note that we convert the mask to an image just because ComfyUI lacks mask operations. Kijai nodes have it."],"color":"#432","bgcolor":"#653"},{"id":119,"type":"MarkdownNote","pos":[4974.0576171875,163.43658447265625],"size":[305.3537902832031,88],"flags":{},"order":9,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["# This is an RGBA image"],"color":"#432","bgcolor":"#653"},{"id":10,"type":"MarkdownNote","pos":[4948.26904296875,-894.2081298828125],"size":[345.47198486328125,88],"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["# The first two are RGB images"],"color":"#432","bgcolor":"#653"},{"id":51,"type":"MarkdownNote","pos":[2356.409423828125,-70.79910278320312],"size":[274.0300598144531,111.83796691894531],"flags":{},"order":11,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["# With the foreground and the mask we can do various things"],"color":"#432","bgcolor":"#653"},{"id":120,"type":"MarkdownNote","pos":[1560.258544921875,-367.8268737792969],"size":[274.0300598144531,111.83796691894531],"flags":{},"order":12,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["# This is called a *map*"],"color":"#432","bgcolor":"#653"},{"id":121,"type":"MarkdownNote","pos":[517.786865234375,1104.4462890625],"size":[336.8605041503906,130.55340576171875],"flags":{},"order":13,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["# Move the mouse here to compare the original image and the one with changed background"],"color":"#432","bgcolor":"#653"},{"id":113,"type":"PreviewImage","pos":[6548.193359375,2380.531494140625],"size":[767.664794921875,595.8862915039062],"flags":{},"order":71,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":184}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":108,"type":"Canny","pos":[5119.8720703125,2594.793212890625],"size":[270,82],"flags":{},"order":65,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":180},{"localized_name":"low_threshold","name":"low_threshold","type":"FLOAT","widget":{"name":"low_threshold"},"link":null},{"localized_name":"high_threshold","name":"high_threshold","type":"FLOAT","widget":{"name":"high_threshold"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[192]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"Canny","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"low_threshold":true,"high_threshold":true}}},"widgets_values":[0.5,0.99],"color":"#232","bgcolor":"#353"},{"id":123,"type":"PreviewImage","pos":[5887.4248046875,2778.670654296875],"size":[594.278564453125,282.0538635253906],"flags":{},"order":69,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":193}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":122,"type":"Morphology","pos":[5460.7861328125,2600.3974609375],"size":[270,82],"flags":{},"order":68,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":192},{"localized_name":"operation","name":"operation","type":"COMBO","widget":{"name":"operation"},"link":null},{"localized_name":"kernel_size","name":"kernel_size","type":"INT","widget":{"name":"kernel_size"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[193,194]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"Morphology","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"operation":true,"kernel_size":true}}},"widgets_values":["dilate",7],"color":"#232","bgcolor":"#353"}],"links":[[46,30,0,14,0,"IMAGE"],[47,30,1,14,1,"MASK"],[48,1,1,35,1,"INT"],[49,1,2,35,2,"INT"],[50,35,0,36,0,"IMAGE"],[51,14,0,35,0,"IMAGE"],[52,35,0,37,0,"IMAGE"],[55,1,0,34,0,"BIREFNET"],[56,37,0,34,1,"IMAGE"],[59,34,0,38,0,"MASK"],[62,14,0,41,0,"IMAGE"],[68,38,0,43,0,"IMAGE"],[73,41,0,46,2,"INT"],[74,41,1,46,3,"INT"],[75,46,0,44,0,"IMAGE"],[76,38,0,46,0,"IMAGE"],[77,46,0,40,0,"IMAGE"],[78,14,0,52,1,"IMAGE"],[80,40,0,53,1,"MASK"],[81,14,0,53,0,"IMAGE"],[93,61,0,63,0,"IMAGE"],[96,63,0,64,0,"IMAGE"],[101,69,0,67,1,"MASK"],[102,40,0,71,1,"MASK"],[103,14,0,71,0,"IMAGE"],[113,74,0,61,0,"IMAGE"],[114,74,0,63,1,"IMAGE"],[115,75,0,63,2,"MASK"],[117,40,0,75,0,"*"],[118,79,0,76,0,"IMAGE"],[119,77,0,76,1,"IMAGE"],[120,78,0,76,2,"MASK"],[121,77,0,79,0,"IMAGE"],[122,76,0,80,0,"IMAGE"],[125,67,0,81,0,"IMAGE"],[126,73,0,69,0,"MASK"],[127,71,0,82,0,"*"],[128,82,0,67,0,"IMAGE"],[130,83,0,73,0,"MASK"],[131,84,0,85,0,"IMAGE"],[133,88,0,85,1,"INT"],[134,88,1,85,2,"INT"],[137,85,0,89,0,"IMAGE"],[138,86,0,89,1,"IMAGE"],[139,87,0,89,2,"MASK"],[140,89,0,90,0,"IMAGE"],[141,89,0,52,0,"IMAGE"],[142,86,0,88,0,"IMAGE"],[145,95,0,84,0,"IMAGE"],[146,97,0,96,0,"IMAGE"],[148,14,0,100,0,"*"],[150,100,0,70,0,"IMAGE"],[151,70,0,97,0,"IMAGE"],[152,98,0,97,1,"IMAGE"],[153,99,0,97,2,"MASK"],[154,71,0,86,0,"*"],[155,71,0,98,0,"*"],[156,71,0,77,0,"*"],[157,71,0,74,0,"*"],[158,40,0,78,0,"*"],[159,40,0,83,0,"*"],[160,40,0,87,0,"*"],[165,101,0,103,1,"IMAGE"],[167,104,0,101,1,"IMAGE"],[168,104,0,103,0,"IMAGE"],[170,103,0,105,0,"IMAGE"],[171,14,0,104,0,"*"],[172,106,0,101,0,"IMAGE"],[173,104,0,106,0,"IMAGE"],[174,107,0,103,2,"MASK"],[176,40,0,99,0,"*"],[177,40,0,107,0,"*"],[179,109,0,110,0,"MASK"],[180,110,0,108,0,"IMAGE"],[184,112,0,113,0,"IMAGE"],[188,117,0,109,0,"MASK"],[189,103,0,118,0,"*"],[190,118,0,112,0,"IMAGE"],[191,107,0,117,0,"*"],[192,108,0,122,0,"IMAGE"],[193,122,0,123,0,"IMAGE"],[194,122,0,112,1,"IMAGE"]],"groups":[{"id":1,"title":"Resize mask to image size","bounding":[970.0958862304688,102.10306549072266,849.561279296875,313.6246337890625],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Foreground","bounding":[2013.8475341796875,-94.48660278320312,306.769775390625,658.6676025390625],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Green background","bounding":[3029.878662109375,-1575.761474609375,1790.999755859375,729.001220703125],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"White background","bounding":[3033.401123046875,-815.88916015625,1787.630615234375,723.7957153320312],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"RGBA (RGB + Transparency)","bounding":[3038.6884765625,-59.566368103027344,1867.32470703125,711.4829711914062],"color":"#3f789e","font_size":24,"flags":{}},{"id":6,"title":"Overlay","bounding":[3044.2890625,675.9671020507812,2539.93408203125,748.8859252929688],"color":"#3f789e","font_size":24,"flags":{}},{"id":7,"title":"Blurred background","bounding":[3046.0322265625,1454.7994384765625,1709.1240234375,724.2953491210938],"color":"#3f789e","font_size":24,"flags":{}},{"id":8,"title":"Show object","bounding":[3047.728271484375,2275.607421875,1906.569091796875,877.1666259765625],"color":"#3f789e","font_size":24,"flags":{}},{"id":9,"title":"Show object and strong contour","bounding":[4980.94384765625,2282.6474609375,2429.925537109375,869.545654296875],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ue_links":[],"ds":{"scale":1.3738202499251864,"offset":[-5241.241678385612,-2487.2356762756926]},"links_added_by_ue":[],"reroutes":[{"id":2,"pos":[-108.62671661376953,139.73500061035156],"linkIds":[55]},{"id":3,"parentId":2,"pos":[535.2720947265625,140.9296875],"linkIds":[55]},{"id":4,"parentId":9,"pos":[660.7029418945312,629.025390625],"linkIds":[62,78,81,103,148,171]},{"id":5,"parentId":4,"pos":[1863.27587890625,628.8262329101562],"linkIds":[81,103,148,171]},{"id":7,"parentId":31,"pos":[2259.494873046875,650.227294921875],"linkIds":[141]},{"id":8,"parentId":7,"pos":[815.2132568359375,668.78662109375],"linkIds":[141]},{"id":9,"pos":[-106.55693054199219,625.9456787109375],"linkIds":[62,78,81,103,148,171]},{"id":10,"parentId":5,"pos":[1895.6678466796875,470.7616882324219],"linkIds":[81,103]},{"id":12,"parentId":13,"pos":[3478.999267578125,-1365.1368408203125],"linkIds":[114]},{"id":13,"pos":[3147.66552734375,-1359.3565673828125],"linkIds":[114]},{"id":14,"pos":[3493.3759765625,-1331.341552734375],"linkIds":[115]},{"id":15,"parentId":16,"pos":[3482.521728515625,-605.2644653320312],"linkIds":[119]},{"id":16,"pos":[3151.18798828125,-599.4842529296875],"linkIds":[119]},{"id":17,"pos":[3496.8984375,-571.4691772460938],"linkIds":[120]},{"id":18,"pos":[3152.549560546875,1106.6693115234375],"linkIds":[138,142]},{"id":19,"parentId":21,"pos":[4223.66162109375,1064.7811279296875],"linkIds":[138]},{"id":20,"pos":[4262.08642578125,1101.100341796875],"linkIds":[139]},{"id":21,"parentId":18,"pos":[3769.3232421875,1105.9718017578125],"linkIds":[138,142]},{"id":22,"pos":[3448.710693359375,1686.1307373046875],"linkIds":[153]},{"id":23,"pos":[3420.66162109375,1652.9488525390625],"linkIds":[152]},{"id":24,"pos":[2773.033935546875,15.84286117553711],"linkIds":[127,154,155,156,157]},{"id":25,"pos":[1937.9874267578125,-159.17628479003906],"linkIds":[117,158,159,160,176,177]},{"id":26,"parentId":25,"pos":[2703.85107421875,-327.3985900878906],"linkIds":[117,158,159,160,176,177]},{"id":27,"parentId":5,"pos":[2559.43359375,630.2315063476562],"linkIds":[148,171]},{"id":28,"pos":[4618.82177734375,733.64208984375],"linkIds":[141]},{"id":29,"parentId":28,"pos":[5677.4833984375,735.9432983398438],"linkIds":[141]},{"id":30,"parentId":29,"pos":[5689.85595703125,2213.1611328125],"linkIds":[141]},{"id":31,"parentId":30,"pos":[2294.046630859375,2224.993408203125],"linkIds":[141]},{"id":32,"pos":[3791.9970703125,2819.7451171875],"linkIds":[174,191]},{"id":33,"parentId":26,"pos":[2724.03271484375,820.3627319335938],"linkIds":[160,176,177]},{"id":34,"parentId":33,"pos":[2768.710693359375,1633.2620849609375],"linkIds":[176,177]},{"id":35,"pos":[5914.4443359375,2344.078369140625],"linkIds":[190]},{"id":36,"parentId":32,"pos":[3864.212646484375,3118.90966796875],"linkIds":[191]},{"id":37,"pos":[4112.92333984375,2336.529052734375],"linkIds":[189]}],"linkExtensions":[{"id":55,"parentId":3},{"id":62,"parentId":4},{"id":78,"parentId":4},{"id":81,"parentId":10},{"id":103,"parentId":10},{"id":114,"parentId":12},{"id":115,"parentId":14},{"id":117,"parentId":26},{"id":119,"parentId":15},{"id":120,"parentId":17},{"id":127,"parentId":24},{"id":138,"parentId":19},{"id":139,"parentId":20},{"id":141,"parentId":8},{"id":142,"parentId":21},{"id":148,"parentId":27},{"id":152,"parentId":23},{"id":153,"parentId":22},{"id":154,"parentId":24},{"id":155,"parentId":24},{"id":156,"parentId":24},{"id":157,"parentId":24},{"id":158,"parentId":26},{"id":159,"parentId":26},{"id":160,"parentId":33},{"id":171,"parentId":27},{"id":174,"parentId":32},{"id":176,"parentId":34},{"id":177,"parentId":34},{"id":189,"parentId":37},{"id":190,"parentId":35},{"id":191,"parentId":36}]},"version":0.4}