{"id":"c70857f0-5cca-4e37-b05e-4a975b898210","revision":0,"last_node_id":38,"last_link_id":56,"nodes":[{"id":3,"type":"PreviewImage","pos":[790.6561279296875,416.3002624511719],"size":[378.5118408203125,246.00001525878906],"flags":{},"order":14,"mode":0,"inputs":[{"label":"images","localized_name":"images","name":"images","type":"IMAGE","link":52}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":6,"type":"SaveImage","pos":[799.3235473632812,84.68060302734375],"size":[363.5760803222656,282],"flags":{},"order":15,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":53},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"SaveImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"filename_prefix":true}},"widget_ue_connectable":{"filename_prefix":true}},"widgets_values":["BiRefNet"],"color":"#232","bgcolor":"#353"},{"id":8,"type":"MarkdownNote","pos":[-466.37274169921875,479.739013671875],"size":[342.435302734375,186.2715301513672],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["# 1 Choose the model here\n## *General Lite* is for general use and is small. Is not the best.\n\n## *General* is bigger, but is far better\n\n## Models are downloaded to the `BiRefNet` folder"],"color":"#432","bgcolor":"#653"},{"id":9,"type":"MarkdownNote","pos":[-712.1519165039062,737.2467041015625],"size":[278.64874267578125,164.78025817871094],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["# 2 Select the image\n\n## Unbypass the `Load Image` to select your image"],"color":"#432","bgcolor":"#653"},{"id":33,"type":"MarkdownNote","pos":[-150.56344604492188,120.15348052978516],"size":[411.9961853027344,116.44786834716797],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["# You can manually download models to *ComfyUI/models/RemBG* and choose its name using this node"],"color":"#432","bgcolor":"#653"},{"id":32,"type":"LoadRembgByBiRefNetModel_SET","pos":[-91.56623840332031,297.1453552246094],"size":[283.26995849609375,126],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"positive","name":"positive","shape":7,"type":"CONDITIONING","link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"dtype","name":"dtype","shape":7,"type":"COMBO","widget":{"name":"dtype"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"SET_REMBG","links":null}],"properties":{"aux_id":"set-soft/ComfyUI_BiRefNet_SET","ver":"450fdf2cb5ccb7f95a82bd9178033dc58a9d7dbc","Node name for S&R":"LoadRembgByBiRefNetModel_SET","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"model":true,"device":true,"dtype":true}},"widget_ue_connectable":{"model":true,"device":true,"dtype":true}},"widgets_values":["BiRefNet-DIS_ep580.pth","AUTO","AUTO"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":1,"type":"AutoDownloadBiRefNetModel_SET","pos":[-92.95976257324219,476.8383483886719],"size":[290.5611267089844,166],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"dtype","name":"dtype","shape":7,"type":"COMBO","widget":{"name":"dtype"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"SET_REMBG","links":[48]},{"localized_name":"train_w","name":"train_w","type":"INT","links":[50]},{"localized_name":"train_h","name":"train_h","type":"INT","links":[51]},{"localized_name":"norm_params","name":"norm_params","type":"NORM_PARAMS","links":null}],"properties":{"aux_id":"set-soft/ComfyUI_BiRefNet_SET","ver":"4a1884d296e39e36c3b6f4c873c08ac9e7ce1294","Node name for S&R":"AutoDownloadBiRefNetModel_SET","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"model_name":true,"device":true,"dtype":true}},"widget_ue_connectable":{"model_name":true,"device":true,"dtype":true}},"widgets_values":["General (424 MiB)","AUTO","AUTO"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":31,"type":"MarkdownNote","pos":[300,850],"size":[327.5973815917969,241.81690979003906],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["# Here we resize the image to use the same size used to train the model\n\n# Enabling `fill_color` we generate an RGB image filled with `color` (black in the example)"],"color":"#432","bgcolor":"#653"},{"id":4,"type":"MaskPreview","pos":[794.17626953125,722.32470703125],"size":[368.3013000488281,258],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":54}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"MaskPreview","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":35,"type":"MaskPreview","pos":[800,1025],"size":[368.3013000488281,258],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":55}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","widget_ue_connectable":{},"Node name for S&R":"MaskPreview","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":36,"type":"MaskPreview","pos":[800,1350],"size":[368.3013000488281,258],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":56}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","widget_ue_connectable":{},"Node name for S&R":"MaskPreview","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":34,"type":"RembgByBiRefNetAdvanced_SET","pos":[300,475],"size":[329.4302673339844,310],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"SET_REMBG","link":48},{"localized_name":"images","name":"images","type":"IMAGE","link":49},{"localized_name":"depths","name":"depths","shape":7,"type":"MASK","link":null},{"localized_name":"background","name":"background","shape":7,"type":"IMAGE","link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":50},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":51},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"blur_size","name":"blur_size","type":"INT","widget":{"name":"blur_size"},"link":null},{"localized_name":"blur_size_two","name":"blur_size_two","type":"INT","widget":{"name":"blur_size_two"},"link":null},{"localized_name":"fill_color","name":"fill_color","type":"BOOLEAN","widget":{"name":"fill_color"},"link":null},{"localized_name":"color","name":"color","type":"STRING","widget":{"name":"color"},"link":null},{"localized_name":"mask_threshold","name":"mask_threshold","type":"FLOAT","widget":{"name":"mask_threshold"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"images","name":"images","type":"IMAGE","links":[52,53]},{"localized_name":"masks","name":"masks","type":"MASK","links":[54]},{"localized_name":"depths","name":"depths","type":"MASK","links":[55]},{"localized_name":"edges","name":"edges","type":"MASK","links":[56]}],"properties":{"aux_id":"set-soft/ComfyUI_BiRefNet_SET","ver":"879376ba9dd1aa2b186385ca88eb5f06edd12232","widget_ue_connectable":{},"Node name for S&R":"RembgByBiRefNetAdvanced_SET"},"widgets_values":[1024,1024,"bicubic",90,6,false,"#000000",0,1],"color":"#2a363b","bgcolor":"#3f5159"},{"id":11,"type":"MarkdownNote","pos":[1200,725],"size":[312.5177307128906,241.44107055664062],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["# This is the mask where white is the foreground"],"color":"#432","bgcolor":"#653"},{"id":10,"type":"MarkdownNote","pos":[1200,425],"size":[312.5177307128906,241.44107055664062],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["# This is an RGB image\n"],"color":"#432","bgcolor":"#653"},{"id":12,"type":"MarkdownNote","pos":[1200,100],"size":[312.5177307128906,241.44107055664062],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["# Enable this node to save the image"],"color":"#432","bgcolor":"#653"},{"id":37,"type":"MarkdownNote","pos":[1200,1025],"size":[312.5177307128906,241.44107055664062],"flags":{},"order":9,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["# Models like PDFNet generates a depth map"],"color":"#432","bgcolor":"#653"},{"id":38,"type":"MarkdownNote","pos":[1200,1350],"size":[312.5177307128906,241.44107055664062],"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}},"widget_ue_connectable":{}},"widgets_values":["# Models like DiffDIS generates edges"],"color":"#432","bgcolor":"#653"},{"id":30,"type":"LoadImage","pos":[-397.0123291015625,729.541259765625],"size":[274.080078125,314],"flags":{},"order":11,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[46]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[47]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"LoadImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"image":true,"upload":true}},"widget_ue_connectable":{"image":true,"upload":true}},"widgets_values":["example.png","image"],"color":"#232","bgcolor":"#353"},{"id":14,"type":"SET_ImageDownload","pos":[-78.41507720947266,729.249755859375],"size":[270,362],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"image_bypass","name":"image_bypass","shape":7,"type":"IMAGE","link":46},{"localized_name":"mask_bypass","name":"mask_bypass","shape":7,"type":"MASK","link":47},{"localized_name":"base_url","name":"base_url","type":"STRING","widget":{"name":"base_url"},"link":null},{"localized_name":"filename","name":"filename","type":"STRING","widget":{"name":"filename"},"link":null},{"localized_name":"local_name","name":"local_name","shape":7,"type":"STRING","widget":{"name":"local_name"},"link":null},{"localized_name":"embed_transparency","name":"embed_transparency","shape":7,"type":"BOOLEAN","widget":{"name":"embed_transparency"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[49]},{"localized_name":"alpha_mask","name":"alpha_mask","type":"MASK","links":[]}],"properties":{"cnr_id":"image-misc","ver":"3ab5664ee7057737c3215db19b078afbcead7a08","Node name for S&R":"SET_ImageDownload","aux_id":"set-soft/ComfyUI-ImageMisc","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"base_url":true,"filename":true}},"widget_ue_connectable":{"base_url":true,"filename":true,"local_name":true}},"widgets_values":["https://www.birefnet.top/PictureBox","1.jpg","birefnet_1.jpg",false],"color":"#233","bgcolor":"#355"}],"links":[[46,30,0,14,0,"IMAGE"],[47,30,1,14,1,"MASK"],[48,1,0,34,0,"SET_REMBG"],[49,14,0,34,1,"IMAGE"],[50,1,1,34,4,"INT"],[51,1,2,34,5,"INT"],[52,34,0,3,0,"IMAGE"],[53,34,0,6,0,"IMAGE"],[54,34,1,4,0,"MASK"],[55,34,2,35,0,"MASK"],[56,34,3,36,0,"MASK"]],"groups":[],"config":{},"extra":{"ue_links":[],"ds":{"scale":0.7654244819731199,"offset":[798.6120810132032,5.599136729416433]},"links_added_by_ue":[]},"version":0.4}