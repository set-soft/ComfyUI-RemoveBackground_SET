{"id":"c70857f0-5cca-4e37-b05e-4a975b898210","revision":0,"last_node_id":33,"last_link_id":47,"nodes":[{"id":3,"type":"PreviewImage","pos":[790.6561279296875,416.3002624511719],"size":[378.5118408203125,246.00001525878906],"flags":{},"order":12,"mode":0,"inputs":[{"label":"images","localized_name":"images","name":"images","type":"IMAGE","link":35}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"PreviewImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#222","bgcolor":"#000"},{"id":4,"type":"MaskPreview","pos":[794.17626953125,722.32470703125],"size":[368.3013000488281,258],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":37}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"MaskPreview","ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":[],"color":"#222","bgcolor":"#000"},{"id":12,"type":"MarkdownNote","pos":[1207.7039794921875,89.96491241455078],"size":[312.5177307128906,241.44107055664062],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["# Enable this node to save the image"],"color":"#432","bgcolor":"#653"},{"id":6,"type":"SaveImage","pos":[799.3235473632812,84.68060302734375],"size":[363.5760803222656,282],"flags":{},"order":13,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":36},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"SaveImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"filename_prefix":true}}},"widgets_values":["BiRefNet"],"color":"#222","bgcolor":"#000"},{"id":8,"type":"MarkdownNote","pos":[-466.37274169921875,479.739013671875],"size":[342.435302734375,186.2715301513672],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["# 1 Choose the model here\n## *General Lite* is for general use and is small. Is not the best.\n\n## *General* is bigger, but is far better\n\n## Models are downloaded to the `BiRefNet` folder"],"color":"#432","bgcolor":"#653"},{"id":1,"type":"AutoDownloadBiRefNetModel_SET","pos":[-92.95976257324219,476.8383483886719],"size":[290.5611267089844,146],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"dtype","name":"dtype","shape":7,"type":"COMBO","widget":{"name":"dtype"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"BIREFNET","links":[32]},{"localized_name":"train_w","name":"train_w","type":"INT","links":[38]},{"localized_name":"train_h","name":"train_h","type":"INT","links":[39]}],"properties":{"aux_id":"set-soft/ComfyUI_BiRefNet_SET","ver":"4a1884d296e39e36c3b6f4c873c08ac9e7ce1294","Node name for S&R":"AutoDownloadBiRefNetModel_SET","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"model_name":true,"device":true,"dtype":true}}},"widgets_values":["General","AUTO","AUTO"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":30,"type":"LoadImage","pos":[-397.0123291015625,729.541259765625],"size":[274.080078125,314],"flags":{},"order":3,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[46]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[47]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"LoadImage","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"image":true,"upload":true}}},"widgets_values":["example.png","image"],"color":"#222","bgcolor":"#000"},{"id":9,"type":"MarkdownNote","pos":[-712.1519165039062,737.2467041015625],"size":[278.64874267578125,164.78025817871094],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["# 2 Select the image\n\n## Unbypass the `Load Image` to select your image"],"color":"#432","bgcolor":"#653"},{"id":14,"type":"SET_ImageDownload","pos":[-78.41507720947266,729.249755859375],"size":[270,338],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"image_bypass","name":"image_bypass","shape":7,"type":"IMAGE","link":46},{"localized_name":"mask_bypass","name":"mask_bypass","shape":7,"type":"MASK","link":47},{"localized_name":"base_url","name":"base_url","type":"STRING","widget":{"name":"base_url"},"link":null},{"localized_name":"filename","name":"filename","type":"STRING","widget":{"name":"filename"},"link":null},{"localized_name":"local_name","name":"local_name","shape":7,"type":"STRING","widget":{"name":"local_name"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[43]},{"localized_name":"alpha_mask","name":"alpha_mask","type":"MASK","links":[]}],"properties":{"cnr_id":"image-misc","ver":"3ab5664ee7057737c3215db19b078afbcead7a08","Node name for S&R":"SET_ImageDownload","aux_id":"set-soft/ComfyUI-ImageMisc","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"base_url":true,"filename":true}}},"widgets_values":["https://www.birefnet.top/PictureBox","1.jpg","birefnet_1.jpg"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":11,"type":"MarkdownNote","pos":[1212.0667724609375,723.6204833984375],"size":[312.5177307128906,241.44107055664062],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["# This is the mask where white is the foreground"],"color":"#432","bgcolor":"#653"},{"id":29,"type":"RembgByBiRefNetAdvanced_SET","pos":[298.78515625,478.7520751953125],"size":[329.4302673339844,270],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"BIREFNET","link":32},{"localized_name":"images","name":"images","type":"IMAGE","link":43},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":38},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":39},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"blur_size","name":"blur_size","type":"INT","widget":{"name":"blur_size"},"link":null},{"localized_name":"blur_size_two","name":"blur_size_two","type":"INT","widget":{"name":"blur_size_two"},"link":null},{"localized_name":"fill_color","name":"fill_color","type":"BOOLEAN","widget":{"name":"fill_color"},"link":null},{"localized_name":"color","name":"color","type":"STRING","widget":{"name":"color"},"link":null},{"localized_name":"mask_threshold","name":"mask_threshold","type":"FLOAT","widget":{"name":"mask_threshold"},"link":null},{"localized_name":"batched","name":"batched","type":"BOOLEAN","widget":{"name":"batched"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[35,36]},{"localized_name":"mask","name":"mask","type":"MASK","links":[37]}],"properties":{"aux_id":"set-soft/ComfyUI_BiRefNet_SET","ver":"4a1884d296e39e36c3b6f4c873c08ac9e7ce1294","Node name for S&R":"RembgByBiRefNetAdvanced_SET","ue_properties":{"version":"7.0.1","widget_ue_connectable":{"width":true,"height":true,"upscale_method":true,"blur_size":true,"blur_size_two":true,"fill_color":true,"color":true,"mask_threshold":true}}},"widgets_values":[1024,1024,"bicubic",90,6,true,"#000000",0,true],"color":"#2a363b","bgcolor":"#3f5159"},{"id":10,"type":"MarkdownNote","pos":[1210.5594482421875,421.1690368652344],"size":[312.5177307128906,241.44107055664062],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["# This is an RGB image\n"],"color":"#432","bgcolor":"#653"},{"id":32,"type":"LoadRembgByBiRefNetModel_SET","pos":[-91.56623840332031,297.1453552246094],"size":[283.26995849609375,106],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"dtype","name":"dtype","shape":7,"type":"COMBO","widget":{"name":"dtype"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"BIREFNET","links":null}],"properties":{"aux_id":"set-soft/ComfyUI_BiRefNet_SET","ver":"450fdf2cb5ccb7f95a82bd9178033dc58a9d7dbc","Node name for S&R":"LoadRembgByBiRefNetModel_SET","ue_properties":{"version":"7.0.1"}},"widgets_values":["BiRefNet-DIS_ep580.pth","AUTO","AUTO"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":33,"type":"MarkdownNote","pos":[-150.56344604492188,120.15348052978516],"size":[411.9961853027344,116.44786834716797],"flags":{},"order":9,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["# You can manually download models to *ComfyUI/models/BiRefNet* and choose its name using this node"],"color":"#432","bgcolor":"#653"},{"id":31,"type":"MarkdownNote","pos":[303.3528137207031,797.8128662109375],"size":[327.5973815917969,241.81690979003906],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"version":"7.0.1","widget_ue_connectable":{}}},"widgets_values":["# Here we resize the image to use the same size used to train the model\n\n# Enabling `fill_color` we generate an RGB image filled with `color` (black in the example)"],"color":"#432","bgcolor":"#653"}],"links":[[32,1,0,29,0,"BIREFNET"],[35,29,0,3,0,"IMAGE"],[36,29,0,6,0,"IMAGE"],[37,29,1,4,0,"MASK"],[38,1,1,29,2,"INT"],[39,1,2,29,3,"INT"],[43,14,0,29,1,"IMAGE"],[46,30,0,14,0,"IMAGE"],[47,30,1,14,1,"MASK"]],"groups":[],"config":{},"extra":{"ue_links":[],"ds":{"scale":1.0187799855062227,"offset":[475.9614564441723,-390.9401306513277]},"links_added_by_ue":[],"reroutes":[{"id":1,"pos":[703.5173950195312,475.9138488769531],"linkIds":[35,36]}],"linkExtensions":[{"id":35,"parentId":1},{"id":36,"parentId":1}]},"version":0.4}